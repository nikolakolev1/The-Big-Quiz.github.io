<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/index.html">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/index.html" />
              <option name="originalContent" value="&lt;!DOCTYPE html&gt;&#10;&lt;html lang=&quot;en&quot;&gt;&#10;&#10;&lt;head&gt;&#10;  &lt;meta charset=&quot;utf-8&quot; /&gt;&#10;  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot; /&gt;&#10;  &#10;  &lt;!-- Cache control headers for static hosting --&gt;&#10;  &lt;meta http-equiv=&quot;Cache-Control&quot; content=&quot;no-cache, no-store, must-revalidate&quot; /&gt;&#10;  &lt;meta http-equiv=&quot;Pragma&quot; content=&quot;no-cache&quot; /&gt;&#10;  &lt;meta http-equiv=&quot;Expires&quot; content=&quot;0&quot; /&gt;&#10;  &#10;  &lt;title&gt;Gorsko Slivovo — Monday Quiz League&lt;/title&gt;&#10;  &lt;meta name=&quot;description&quot;&#10;    content=&quot;Public record of Gorsko Slivovo's Monday quiz results at The Big Quiz @ The Academy. Seasons by year, quiz history, and leaderboards.&quot; /&gt;&#10;  &#10;  &lt;!-- Google Fonts --&gt;&#10;  &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.googleapis.com&quot;&gt;&#10;  &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.gstatic.com&quot; crossorigin&gt;&#10;  &lt;link&#10;    href=&quot;https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&amp;family=Orbitron:wght@600;800&amp;display=swap&quot;&#10;    rel=&quot;stylesheet&quot;&gt;&#10;  &#10;  &lt;!-- Styles --&gt;&#10;  &lt;link rel=&quot;stylesheet&quot; href=&quot;styles.css&quot;&gt;&#10;&lt;/head&gt;&#10;&#10;&lt;body&gt;&#10;  &lt;!-- Confetti canvas overlay --&gt;&#10;  &lt;canvas id=&quot;fx&quot;&gt;&lt;/canvas&gt;&#10;  &#10;  &lt;!-- Animated background veil --&gt;&#10;  &lt;div class=&quot;veil&quot; aria-hidden=&quot;true&quot;&gt;&lt;/div&gt;&#10;  &#10;  &lt;!-- Main header --&gt;&#10;  &lt;header&gt;&#10;    &lt;div class=&quot;wrap&quot; style=&quot;display:flex; align-items:center; justify-content:space-between; gap:16px&quot;&gt;&#10;      &lt;div class=&quot;brand&quot;&gt;&#10;        &lt;div class=&quot;logo&quot; aria-hidden=&quot;true&quot;&gt;&lt;/div&gt;&#10;        &lt;div&gt;&#10;          &lt;h1 class=&quot;title glow&quot;&gt;Gorsko Slivovo — Monday Quiz League&lt;/h1&gt;&#10;          &lt;div class=&quot;subtitle&quot;&gt;Public scoreboard for The Big Quiz @ The Academy&lt;/div&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;      &lt;div class=&quot;controls&quot;&gt;&#10;        &lt;label&gt;&#10;          &lt;span class=&quot;subtitle&quot;&#10;            style=&quot;display:block; font-size:11px; text-transform:uppercase; letter-spacing:.08em&quot;&gt;Season&lt;/span&gt;&#10;          &lt;select id=&quot;seasonSelect&quot;&gt;&lt;/select&gt;&#10;        &lt;/label&gt;&#10;      &lt;/div&gt;&#10;    &lt;/div&gt;&#10;  &lt;/header&gt;&#10;&#10;  &lt;!-- Main content --&gt;&#10;  &lt;main class=&quot;wrap&quot;&gt;&#10;    &lt;section class=&quot;grid&quot;&gt;&#10;      &lt;!-- Season leaderboard --&gt;&#10;      &lt;div class=&quot;panel&quot; id=&quot;leaderboardPanel&quot;&gt;&#10;        &lt;div class=&quot;head&quot;&gt;&#10;          &lt;h2&gt;Season Points&lt;/h2&gt;&#10;        &lt;/div&gt;&#10;        &lt;div class=&quot;body&quot;&gt;&#10;          &lt;table id=&quot;leaderboard&quot;&gt;&#10;            &lt;thead&gt;&#10;              &lt;tr&gt;&#10;                &lt;th class=&quot;rank&quot;&gt;#&lt;/th&gt;&#10;                &lt;th&gt;Team&lt;/th&gt;&#10;                &lt;th&gt;Quizzes&lt;/th&gt;&#10;                &lt;th&gt;Total pts.&lt;/th&gt;&#10;                &lt;th&gt;Average pts.&lt;/th&gt;&#10;              &lt;/tr&gt;&#10;            &lt;/thead&gt;&#10;            &lt;tbody&gt;&lt;/tbody&gt;&#10;          &lt;/table&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;&#10;      &lt;!-- Quick Access to Important Files --&gt;&#10;      &lt;div class=&quot;panel&quot;&gt;&#10;        &lt;div class=&quot;head&quot;&gt;&#10;          &lt;h2&gt;Quick Access to Important Files&lt;/h2&gt;&#10;        &lt;/div&gt;&#10;        &lt;div class=&quot;body&quot;&gt;&#10;          &lt;ul class=&quot;quick-access-list&quot; id=&quot;quickAccessList&quot;&gt;&lt;/ul&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;    &lt;/section&gt;&#10;&#10;    &lt;!-- Quiz History --&gt;&#10;    &lt;section class=&quot;panel&quot;&gt;&#10;      &lt;div class=&quot;head&quot;&gt;&#10;        &lt;h2&gt;Quiz History&lt;/h2&gt;&#10;        &lt;div class=&quot;subtitle&quot;&gt;Each entry: place, points (2–5) and number of teams we competed against&lt;/div&gt;&#10;      &lt;/div&gt;&#10;      &lt;div class=&quot;body&quot; id=&quot;quizHistory&quot;&gt;&lt;/div&gt;&#10;    &lt;/section&gt;&#10;&#10;    &lt;!-- Season Stats --&gt;&#10;    &lt;section id=&quot;seasonStats&quot; class=&quot;panel&quot; style=&quot;margin-top:18px&quot;&gt;&lt;/section&gt;&#10;&#10;    &lt;!-- Team Presence --&gt;&#10;    &lt;section id=&quot;teamPresenceSection&quot; class=&quot;panel&quot; style=&quot;margin-top:18px&quot;&gt;&lt;/section&gt;&#10;  &lt;/main&gt;&#10;&#10;  &lt;!-- Footer --&gt;&#10;  &lt;footer&gt;&#10;    Made with  by Nikola on GitHub Pages.&#10;  &lt;/footer&gt;&#10;  &#10;  &lt;!-- Toast notification --&gt;&#10;  &lt;div id=&quot;toast&quot; class=&quot;toast&quot; aria-live=&quot;polite&quot;&gt;&lt;/div&gt;&#10;&#10;  &lt;!-- Photo lightbox modal --&gt;&#10;  &lt;div id=&quot;photoModal&quot; class=&quot;modal&quot; aria-hidden=&quot;true&quot;&gt;&#10;    &lt;div class=&quot;modal-card&quot; role=&quot;dialog&quot; aria-modal=&quot;true&quot; aria-labelledby=&quot;photoModalTitle&quot;&gt;&#10;      &lt;div class=&quot;head&quot;&gt;&#10;        &lt;h3 id=&quot;photoModalTitle&quot; style=&quot;margin:0&quot;&gt;Photos&lt;/h3&gt;&#10;        &lt;div style=&quot;display:flex; gap:8px&quot;&gt;&#10;          &lt;button id=&quot;photoModalClose&quot; class=&quot;btn secondary&quot;&gt;Close&lt;/button&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;      &lt;div class=&quot;body&quot;&gt;&#10;        &lt;div class=&quot;photo-viewer&quot;&gt;&#10;          &lt;button class=&quot;photo-nav prev&quot; id=&quot;photoPrev&quot; title=&quot;Previous&quot; aria-label=&quot;Previous&quot;&gt;&amp;#8249;&lt;/button&gt;&#10;          &lt;img id=&quot;photoImage&quot; alt=&quot;Quiz photo&quot; loading=&quot;lazy&quot; /&gt;&#10;          &lt;button class=&quot;photo-nav next&quot; id=&quot;photoNext&quot; title=&quot;Next&quot; aria-label=&quot;Next&quot;&gt;&amp;#8250;&lt;/button&gt;&#10;        &lt;/div&gt;&#10;        &lt;div class=&quot;photo-caption&quot;&gt;&#10;          &lt;div id=&quot;photoCaption&quot; class=&quot;subtitle&quot;&gt;&lt;/div&gt;&#10;          &lt;div id=&quot;photoPager&quot; class=&quot;subtitle&quot;&gt;&lt;/div&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;    &lt;/div&gt;&#10;  &lt;/div&gt;&#10;&#10;  &lt;!-- Presence modal: shows quizzes a team member attended --&gt;&#10;  &lt;div id=&quot;presenceModal&quot; class=&quot;modal&quot; aria-hidden=&quot;true&quot;&gt;&#10;    &lt;div class=&quot;modal-card&quot; role=&quot;dialog&quot; aria-modal=&quot;true&quot; aria-labelledby=&quot;presenceModalTitle&quot;&gt;&#10;      &lt;div class=&quot;head&quot;&gt;&#10;        &lt;h3 id=&quot;presenceModalTitle&quot; style=&quot;margin:0&quot;&gt;Attendance&lt;/h3&gt;&#10;        &lt;div style=&quot;display:flex; gap:8px&quot;&gt;&#10;          &lt;button id=&quot;presenceModalClose&quot; class=&quot;btn secondary&quot;&gt;Close&lt;/button&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;      &lt;div class=&quot;body&quot;&gt;&#10;        &lt;div id=&quot;presenceModalBody&quot; class=&quot;presence-modal-body&quot;&gt;&#10;          &lt;!-- Filled dynamically --&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;    &lt;/div&gt;&#10;  &lt;/div&gt;&#10;&#10;  &lt;!-- JavaScript --&gt;&#10;  &lt;script src=&quot;scripts.js&quot;&gt;&lt;/script&gt;&#10;&lt;/body&gt;&#10;&#10;&lt;/html&gt;&#10;" />
              <option name="updatedContent" value="&lt;!DOCTYPE html&gt;&#13;&#10;&lt;html lang=&quot;en&quot;&gt;&#13;&#10;&#13;&#10;&lt;head&gt;&#13;&#10;  &lt;meta charset=&quot;utf-8&quot; /&gt;&#13;&#10;  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot; /&gt;&#13;&#10;  &#13;&#10;  &lt;!-- Cache control headers for static hosting --&gt;&#13;&#10;  &lt;meta http-equiv=&quot;Cache-Control&quot; content=&quot;no-cache, no-store, must-revalidate&quot; /&gt;&#13;&#10;  &lt;meta http-equiv=&quot;Pragma&quot; content=&quot;no-cache&quot; /&gt;&#13;&#10;  &lt;meta http-equiv=&quot;Expires&quot; content=&quot;0&quot; /&gt;&#13;&#10;  &#13;&#10;  &lt;title&gt;Gorsko Slivovo — Monday Quiz League&lt;/title&gt;&#13;&#10;  &lt;meta name=&quot;description&quot;&#13;&#10;    content=&quot;Public record of Gorsko Slivovo's Monday quiz results at The Big Quiz @ The Academy. Seasons by year, quiz history, and leaderboards.&quot; /&gt;&#13;&#10;  &#13;&#10;  &lt;!-- Google Fonts --&gt;&#13;&#10;  &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.googleapis.com&quot;&gt;&#13;&#10;  &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.gstatic.com&quot; crossorigin&gt;&#13;&#10;  &lt;link&#13;&#10;    href=&quot;https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&amp;family=Orbitron:wght@600;800&amp;display=swap&quot;&#13;&#10;    rel=&quot;stylesheet&quot;&gt;&#13;&#10;  &#13;&#10;  &lt;!-- Styles --&gt;&#13;&#10;  &lt;link rel=&quot;stylesheet&quot; href=&quot;styles.css&quot;&gt;&#13;&#10;&lt;/head&gt;&#13;&#10;&#13;&#10;&lt;body&gt;&#13;&#10;  &lt;!-- Confetti canvas overlay --&gt;&#13;&#10;  &lt;canvas id=&quot;fx&quot;&gt;&lt;/canvas&gt;&#13;&#10;  &#13;&#10;  &lt;!-- Animated background veil --&gt;&#13;&#10;  &lt;div class=&quot;veil&quot; aria-hidden=&quot;true&quot;&gt;&lt;/div&gt;&#13;&#10;  &#13;&#10;  &lt;!-- Main header --&gt;&#13;&#10;  &lt;header&gt;&#13;&#10;    &lt;div class=&quot;wrap&quot; style=&quot;display:flex; align-items:center; justify-content:space-between; gap:16px&quot;&gt;&#13;&#10;      &lt;div class=&quot;brand&quot;&gt;&#13;&#10;        &lt;div class=&quot;logo&quot; aria-hidden=&quot;true&quot;&gt;&lt;/div&gt;&#13;&#10;        &lt;div&gt;&#13;&#10;          &lt;h1 class=&quot;title glow&quot;&gt;Gorsko Slivovo — Monday Quiz League&lt;/h1&gt;&#13;&#10;          &lt;div class=&quot;subtitle&quot;&gt;Public scoreboard for The Big Quiz @ The Academy&lt;/div&gt;&#13;&#10;        &lt;/div&gt;&#13;&#10;      &lt;/div&gt;&#13;&#10;      &lt;div class=&quot;controls&quot;&gt;&#13;&#10;        &lt;label&gt;&#13;&#10;          &lt;span class=&quot;subtitle&quot;&#13;&#10;            style=&quot;display:block; font-size:11px; text-transform:uppercase; letter-spacing:.08em&quot;&gt;Season&lt;/span&gt;&#13;&#10;          &lt;select id=&quot;seasonSelect&quot;&gt;&lt;/select&gt;&#13;&#10;        &lt;/label&gt;&#13;&#10;      &lt;/div&gt;&#13;&#10;    &lt;/div&gt;&#13;&#10;  &lt;/header&gt;&#13;&#10;&#13;&#10;  &lt;!-- Main content --&gt;&#13;&#10;  &lt;main class=&quot;wrap&quot;&gt;&#13;&#10;    &lt;section class=&quot;grid&quot;&gt;&#13;&#10;      &lt;!-- Season leaderboard --&gt;&#13;&#10;      &lt;div class=&quot;panel&quot; id=&quot;leaderboardPanel&quot;&gt;&#13;&#10;        &lt;div class=&quot;head&quot;&gt;&#13;&#10;          &lt;h2&gt;Season Points&lt;/h2&gt;&#13;&#10;        &lt;/div&gt;&#13;&#10;        &lt;div class=&quot;body&quot;&gt;&#13;&#10;          &lt;table id=&quot;leaderboard&quot;&gt;&#13;&#10;            &lt;thead&gt;&#13;&#10;              &lt;tr&gt;&#13;&#10;                &lt;th class=&quot;rank&quot;&gt;#&lt;/th&gt;&#13;&#10;                &lt;th&gt;Team&lt;/th&gt;&#13;&#10;                &lt;th&gt;Quizzes&lt;/th&gt;&#13;&#10;                &lt;th&gt;Total pts.&lt;/th&gt;&#13;&#10;                &lt;th&gt;Average pts.&lt;/th&gt;&#13;&#10;              &lt;/tr&gt;&#13;&#10;            &lt;/thead&gt;&#13;&#10;            &lt;tbody&gt;&lt;/tbody&gt;&#13;&#10;          &lt;/table&gt;&#13;&#10;        &lt;/div&gt;&#13;&#10;      &lt;/div&gt;&#13;&#10;&#13;&#10;      &lt;!-- Quick Access to Important Files --&gt;&#13;&#10;      &lt;div class=&quot;panel&quot;&gt;&#13;&#10;        &lt;div class=&quot;head&quot;&gt;&#13;&#10;          &lt;h2&gt;Quick Access to Important Files&lt;/h2&gt;&#13;&#10;        &lt;/div&gt;&#13;&#10;        &lt;div class=&quot;body&quot;&gt;&#13;&#10;          &lt;ul class=&quot;quick-access-list&quot; id=&quot;quickAccessList&quot;&gt;&lt;/ul&gt;&#13;&#10;        &lt;/div&gt;&#13;&#10;      &lt;/div&gt;&#13;&#10;    &lt;/section&gt;&#13;&#10;&#13;&#10;    &lt;!-- Quiz History --&gt;&#13;&#10;    &lt;section class=&quot;panel&quot;&gt;&#13;&#10;      &lt;div class=&quot;head&quot;&gt;&#13;&#10;        &lt;h2&gt;Quiz History&lt;/h2&gt;&#13;&#10;        &lt;div class=&quot;subtitle&quot;&gt;Each entry: place, points (2–5) and number of teams we competed against&lt;/div&gt;&#13;&#10;      &lt;/div&gt;&#13;&#10;      &lt;div class=&quot;body&quot; id=&quot;quizHistory&quot;&gt;&lt;/div&gt;&#13;&#10;    &lt;/section&gt;&#13;&#10;&#13;&#10;    &lt;!-- Season Stats --&gt;&#13;&#10;    &lt;section id=&quot;seasonStats&quot; class=&quot;panel&quot; style=&quot;margin-top:18px&quot;&gt;&lt;/section&gt;&#13;&#10;&#13;&#10;    &lt;!-- Team Presence --&gt;&#13;&#10;    &lt;section id=&quot;teamPresenceSection&quot; class=&quot;panel&quot; style=&quot;margin-top:18px&quot;&gt;&lt;/section&gt;&#13;&#10;  &lt;/main&gt;&#13;&#10;&#13;&#10;  &lt;!-- Footer --&gt;&#13;&#10;  &lt;footer&gt;&#13;&#10;    Made with  by Nikola on GitHub Pages.&#13;&#10;  &lt;/footer&gt;&#13;&#10;  &#13;&#10;  &lt;!-- Toast notification --&gt;&#13;&#10;  &lt;div id=&quot;toast&quot; class=&quot;toast&quot; aria-live=&quot;polite&quot;&gt;&lt;/div&gt;&#13;&#10;&#13;&#10;  &lt;!-- Photo lightbox modal --&gt;&#13;&#10;  &lt;div id=&quot;photoModal&quot; class=&quot;modal&quot; aria-hidden=&quot;true&quot;&gt;&#13;&#10;    &lt;div class=&quot;modal-card&quot; role=&quot;dialog&quot; aria-modal=&quot;true&quot; aria-labelledby=&quot;photoModalTitle&quot;&gt;&#13;&#10;      &lt;div class=&quot;head&quot;&gt;&#13;&#10;        &lt;h3 id=&quot;photoModalTitle&quot; style=&quot;margin:0&quot;&gt;Photos&lt;/h3&gt;&#13;&#10;        &lt;div style=&quot;display:flex; gap:8px&quot;&gt;&#13;&#10;          &lt;button id=&quot;photoModalClose&quot; class=&quot;btn secondary&quot;&gt;Close&lt;/button&gt;&#13;&#10;        &lt;/div&gt;&#13;&#10;      &lt;/div&gt;&#13;&#10;      &lt;div class=&quot;body&quot;&gt;&#13;&#10;        &lt;div class=&quot;photo-viewer&quot;&gt;&#13;&#10;          &lt;button class=&quot;photo-nav prev&quot; id=&quot;photoPrev&quot; title=&quot;Previous&quot; aria-label=&quot;Previous&quot;&gt;&amp;#8249;&lt;/button&gt;&#13;&#10;          &lt;img id=&quot;photoImage&quot; alt=&quot;Quiz photo&quot; loading=&quot;lazy&quot; /&gt;&#13;&#10;          &lt;button class=&quot;photo-nav next&quot; id=&quot;photoNext&quot; title=&quot;Next&quot; aria-label=&quot;Next&quot;&gt;&amp;#8250;&lt;/button&gt;&#13;&#10;        &lt;/div&gt;&#13;&#10;        &lt;div class=&quot;photo-caption&quot;&gt;&#13;&#10;          &lt;div id=&quot;photoCaption&quot; class=&quot;subtitle&quot;&gt;&lt;/div&gt;&#13;&#10;          &lt;div id=&quot;photoPager&quot; class=&quot;subtitle&quot;&gt;&lt;/div&gt;&#13;&#10;        &lt;/div&gt;&#13;&#10;      &lt;/div&gt;&#13;&#10;    &lt;/div&gt;&#13;&#10;  &lt;/div&gt;&#13;&#10;&#13;&#10;  &lt;!-- Presence modal: shows quizzes a team member attended --&gt;&#13;&#10;  &lt;div id=&quot;presenceModal&quot; class=&quot;modal&quot; aria-hidden=&quot;true&quot;&gt;&#13;&#10;    &lt;div class=&quot;modal-card&quot; role=&quot;dialog&quot; aria-modal=&quot;true&quot; aria-labelledby=&quot;presenceModalTitle&quot;&gt;&#13;&#10;      &lt;div class=&quot;head&quot;&gt;&#13;&#10;        &lt;h3 id=&quot;presenceModalTitle&quot; style=&quot;margin:0&quot;&gt;Attendance&lt;/h3&gt;&#13;&#10;        &lt;div style=&quot;display:flex; gap:8px&quot;&gt;&#13;&#10;          &lt;button id=&quot;presenceModalClose&quot; class=&quot;btn secondary&quot;&gt;Close&lt;/button&gt;&#13;&#10;        &lt;/div&gt;&#13;&#10;      &lt;/div&gt;&#13;&#10;      &lt;div class=&quot;body&quot;&gt;&#13;&#10;        &lt;div id=&quot;presenceModalBody&quot; class=&quot;presence-modal-body&quot;&gt;&#13;&#10;          &lt;!-- Filled dynamically --&gt;&#13;&#10;        &lt;/div&gt;&#13;&#10;      &lt;/div&gt;&#13;&#10;    &lt;/div&gt;&#13;&#10;  &lt;/div&gt;&#13;&#10;&#13;&#10;  &lt;!-- JavaScript --&gt;&#13;&#10;  &lt;script src=&quot;scripts.js&quot;&gt;&lt;/script&gt;&#13;&#10;&lt;/body&gt;&#13;&#10;&#13;&#10;&lt;/html&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/scripts.js">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/scripts.js" />
              <option name="originalContent" value="// Extracted from index.html inline &lt;script&gt;&#10;&#10;// ---------- Utilities ----------&#10;/**&#10; * Shorthand for document.querySelector&#10; * @param {string} sel - CSS selector&#10; * @returns {Element|null} The first matching element&#10; */&#10;const $ = sel =&gt; document.querySelector(sel);&#10;&#10;/**&#10; * Shorthand for document.querySelectorAll as array&#10; * @param {string} sel - CSS selector&#10; * @returns {Element[]} Array of matching elements&#10; */&#10;const $$ = sel =&gt; Array.from(document.querySelectorAll(sel));&#10;&#10;/**&#10; * Format number with locale-specific formatting&#10; * @param {number} n - Number to format&#10; * @returns {string} Formatted number string&#10; */&#10;const fmt = n =&gt; new Intl.NumberFormat().format(n);&#10;&#10;// ---------- Constants ----------&#10;const STORAGE_KEY = 'quizLeagueData:v2-singleTeam';&#10;const TEAM_NAME = 'Gorsko Slivovo';&#10;const POINTS_FOR_FIRST_PLACE = 5;&#10;const POINTS_FOR_SECOND_PLACE = 4;&#10;const POINTS_FOR_THIRD_PLACE = 3;&#10;const TOAST_DURATION_MS = 2200;&#10;const CONFETTI_PARTICLE_COUNT = 80;&#10;const CANVAS_BLUR_PX = 80;&#10;&#10;// ---------- Demo Data ----------&#10;/**&#10; * Fallback demo data for when no CSV is available&#10; * @type {Object}&#10; */&#10;const demoData = {&#10;  seasons: {&#10;    '2025': {&#10;      team: TEAM_NAME,&#10;      quizzes: [&#10;        { date: '2025-09-30', notes: 'General Knowledge', points: 2, teams: 13 },&#10;        { date: '2025-10-06', notes: 'General Knowledge', points: 4, teams: 18 }&#10;      ]&#10;    }&#10;  },&#10;  currentSeason: '2025',&#10;  quickAccess: []&#10;};&#10;&#10;// ---------- State Management ----------&#10;/**&#10; * Load initial state from localStorage with fallback to demo data.&#10; * We intentionally do NOT trust localStorage as the authoritative source on boot&#10; * because stale saved data is the main cause of &quot;broken&quot; pages for users who keep&#10; * old data in their browser. Instead we start from demoData and prefer fetching&#10; * a fresh CSV from the repo. localStorage is kept only as a fallback when remote&#10; * data is unavailable (offline or CSV missing).&#10; * @returns {Object} Initial state object&#10; */&#10;function load() {&#10;  try {&#10;    const raw = localStorage.getItem(STORAGE_KEY);&#10;    if (raw) {&#10;      const parsed = JSON.parse(raw);&#10;      // Merge shallow so demoData provides missing keys&#10;      return Object.assign({}, demoData, parsed);&#10;    }&#10;    return demoData;&#10;  } catch (e) {&#10;    console.warn('Failed to load from localStorage:', e);&#10;    return demoData;&#10;  }&#10;}&#10;&#10;/**&#10; * Save state to localStorage&#10; * @param {Object} data - State object to persist&#10; */&#10;function save(data) {&#10;  try {&#10;    localStorage.setItem(STORAGE_KEY, JSON.stringify(data));&#10;  } catch (e) {&#10;    console.warn('Failed to save to localStorage:', e);&#10;  }&#10;}&#10;&#10;// ---------- State ----------&#10;let state = load();&#10;if (!state.quickAccess) {&#10;  state.quickAccess = [];&#10;}&#10;const seasonSelect = $('#seasonSelect');&#10;&#10;// ---------- CSV Loading ----------&#10;/**&#10; * Try to load CSV data for a specific season from the server&#10; * @param {string} year - Season year to load&#10; */&#10;async function tryLoadCSVForSeason(year) {&#10;  const urlCsv = `data/season-${year}.csv?v=${Date.now()}`; // cache-bust GitHub Pages&#10;  try {&#10;    const res = await fetch(urlCsv, { cache: 'no-store' });&#10;    if (!res.ok) {&#10;      throw new Error(`CSV not found (${res.status})`);&#10;    }&#10;    const text = await res.text();&#10;    const quizzes = parseCSV(text);&#10;    &#10;    if (!state.seasons) {&#10;      state.seasons = {};&#10;    }&#10;    if (!state.seasons[year]) {&#10;      state.seasons[year] = { team: TEAM_NAME, quizzes: [] };&#10;    }&#10;    &#10;    state.seasons[year].quizzes = quizzes;&#10;    state.currentSeason = year;&#10;    save(state);&#10;    toast(`Loaded CSV for ${year}`);&#10;  } catch (e) {&#10;    // Remote CSV failed. Try to fall back to any saved data in localStorage for this year.&#10;    const fallbackLoaded = tryLoadFromLocalStorage(year);&#10;    if (!fallbackLoaded) {&#10;      // If we reach here, there was no usable local fallback — stay with demo data.&#10;      toast(`CSV not found for ${year}`);&#10;      console.warn('CSV load skipped:', e.message);&#10;    }&#10;  }&#10;}&#10;&#10;/**&#10; * Attempt to load season data from localStorage as fallback&#10; * @param {string} year - Season year to load&#10; * @returns {boolean} True if data was loaded successfully&#10; */&#10;function tryLoadFromLocalStorage(year) {&#10;  try {&#10;    const raw = localStorage.getItem(STORAGE_KEY);&#10;    if (raw) {&#10;      const saved = JSON.parse(raw);&#10;      if (saved &amp;&amp; saved.seasons &amp;&amp; saved.seasons[year]) {&#10;        // Use the locally-saved CSV as a fallback (offline / missing file)&#10;        if (!state.seasons) {&#10;          state.seasons = {};&#10;        }&#10;        state.seasons[year] = saved.seasons[year];&#10;        state.currentSeason = saved.currentSeason || year;&#10;        toast(`Using cached data for ${year}`);&#10;        return true;&#10;      }&#10;    }&#10;  } catch (e) {&#10;    console.warn('Failed to load from localStorage fallback:', e);&#10;  }&#10;  return false;&#10;}&#10;&#10;// ---------- CSV Parsing ----------&#10;/**&#10; * Basic CSV parser supporting quoted fields, BOM-safe, Windows/Mac/Unix newlines&#10; * @param {string} text - Raw CSV text&#10; * @returns {Array&lt;Object&gt;} Array of quiz objects&#10; */&#10;function parseCSV(text) {&#10;  const lines = text.replace(/^\uFEFF/, '').trim().split(/\r?\n/);&#10;  if (!lines.length) {&#10;    return [];&#10;  }&#10;  &#10;  const header = splitCSVLine(lines[0]).map(h =&gt; h.trim().toLowerCase());&#10;  const idx = {&#10;    date: header.indexOf('date'),&#10;    notes: header.indexOf('notes'),&#10;    points: header.indexOf('points'),&#10;    teams: header.indexOf('teams'),&#10;    place: header.findIndex(h =&gt; ['place', 'position', 'rank'].includes(h)),&#10;    photos: header.findIndex(h =&gt; ['photos', 'images', 'pics', 'gallery'].includes(h))&#10;  };&#10;  &#10;  const out = [];&#10;  for (let i = 1; i &lt; lines.length; i++) {&#10;    const line = lines[i];&#10;    if (!line || !line.trim()) {&#10;      continue;&#10;    }&#10;    &#10;    const cols = splitCSVLine(line);&#10;    const q = {&#10;      date: normalizeDate((cols[idx.date] || '').trim()),&#10;      notes: (cols[idx.notes] || '').trim(),&#10;      points: Number((cols[idx.points] || '').trim() || 0),&#10;      teams: Number((cols[idx.teams] || '').trim() || 0),&#10;      place: idx.place &gt;= 0 ? Number((cols[idx.place] || '').trim() || 0) : 0,&#10;      photos: idx.photos &gt;= 0 ? parsePhotos((cols[idx.photos] || '').trim()) : []&#10;    };&#10;    &#10;    if (q.date) {&#10;      out.push(q);&#10;    }&#10;  }&#10;  return out;&#10;}&#10;&#10;/**&#10; * Split a CSV line into fields, handling quoted values correctly&#10; * @param {string} line - CSV line to split&#10; * @returns {string[]} Array of field values&#10; */&#10;function splitCSVLine(line) {&#10;  const out = [];&#10;  let cur = '';&#10;  let inQ = false;&#10;  &#10;  for (let i = 0; i &lt; line.length; i++) {&#10;    const ch = line[i];&#10;    if (ch === '&quot;') {&#10;      if (inQ &amp;&amp; line[i + 1] === '&quot;') {&#10;        cur += '&quot;';&#10;        i++; // escaped quote&#10;      } else {&#10;        inQ = !inQ;&#10;      }&#10;    } else if (ch === ',' &amp;&amp; !inQ) {&#10;      out.push(cur);&#10;      cur = '';&#10;    } else {&#10;      cur += ch;&#10;    }&#10;  }&#10;  out.push(cur);&#10;  return out;&#10;}&#10;&#10;/**&#10; * Normalize date inputs to YYYY-MM-DD format. Accepts:&#10; * - YYYY-MM-DD (already normalized)&#10; * - YYYY/MM/DD&#10; * - DD.MM.YYYY or D.M.YYYY (also accepts '-' or '/' as separator)&#10; * - Fallback: Date parseable strings&#10; * @param {string} raw - Raw date string&#10; * @returns {string} Normalized date string in YYYY-MM-DD format&#10; */&#10;function normalizeDate(raw) {&#10;  if (!raw) {&#10;    return '';&#10;  }&#10;  raw = raw.trim();&#10;  &#10;  // ISO YYYY-MM-DD&#10;  let m = raw.match(/^(\d{4})-(\d{2})-(\d{2})/);&#10;  if (m) {&#10;    return `${m[1]}-${m[2]}-${m[3]}`;&#10;  }&#10;  &#10;  // ISO alternative YYYY/MM/DD&#10;  m = raw.match(/^(\d{4})\/(\d{2})\/(\d{2})/);&#10;  if (m) {&#10;    return `${m[1]}-${m[2]}-${m[3]}`;&#10;  }&#10;  &#10;  // DD.MM.YYYY or D.M.YYYY, also accept '-' or '/'&#10;  m = raw.match(/^(\d{1,2})[\.\-\/](\d{1,2})[\.\-\/](\d{4})$/);&#10;  if (m) {&#10;    const dd = String(m[1]).padStart(2, '0');&#10;    const mm = String(m[2]).padStart(2, '0');&#10;    const yyyy = m[3];&#10;    return `${yyyy}-${mm}-${dd}`;&#10;  }&#10;  &#10;  // Fallback: try Date parsing and format&#10;  const dt = new Date(raw);&#10;  if (!isNaN(dt.getTime())) {&#10;    const y = dt.getFullYear();&#10;    const mo = String(dt.getMonth() + 1).padStart(2, '0');&#10;    const da = String(dt.getDate()).padStart(2, '0');&#10;    return `${y}-${mo}-${da}`;&#10;  }&#10;  &#10;  return '';&#10;}&#10;&#10;/**&#10; * Accept photos as one of:&#10; * - Semicolon- or pipe-separated list: &quot;img1.jpg; img2.jpg&quot; or &quot;img1.jpg|img2.jpg&quot;&#10; * - JSON array string: [&quot;img1.jpg&quot;, &quot;img2.jpg&quot;]&#10; * - Single path&#10; * Paths can be relative (e.g., photos/2025-10-06/pic.jpg) or absolute URLs.&#10; * @param {string} raw - Raw photos string from CSV&#10; * @returns {string[]} Array of photo paths&#10; */&#10;function parsePhotos(raw) {&#10;  if (!raw) {&#10;    return [];&#10;  }&#10;  &#10;  try {&#10;    const t = raw.trim();&#10;    if (!t) {&#10;      return [];&#10;    }&#10;    &#10;    if (t.startsWith('[')) {&#10;      const arr = JSON.parse(t);&#10;      return Array.isArray(arr) ? arr.map(String).map(s =&gt; s.trim()).filter(Boolean) : [];&#10;    }&#10;    &#10;    const parts = t.split(/[|;]+/).map(s =&gt; s.trim()).filter(Boolean);&#10;    return parts.length ? parts : [t];&#10;  } catch (e) {&#10;    console.warn('Failed to parse photos:', e);&#10;    return [];&#10;  }&#10;}&#10;&#10;/**&#10; * Compute the next Monday date. If today is Monday, returns next week's Monday.&#10; * @param {Date} [from=new Date()] - Starting date&#10; * @returns {Date} Next Monday date&#10; */&#10;function computeNextMonday(from = new Date()) {&#10;  const d = new Date(from.getFullYear(), from.getMonth(), from.getDate());&#10;  const day = d.getDay(); // 0 = Sun, 1 = Mon, ...&#10;  let daysUntil = (1 - day + 7) % 7; // days until Monday (0..6)&#10;  if (daysUntil === 0) {&#10;    daysUntil = 7; // if today is Monday, pick next Monday&#10;  }&#10;  d.setDate(d.getDate() + daysUntil);&#10;  d.setHours(0, 0, 0, 0);&#10;  return d;&#10;}&#10;&#10;// ---------- Rendering ----------&#10;/**&#10; * Render the season selector dropdown&#10; */&#10;function renderSeasons() {&#10;  const years = Object.keys(state.seasons).sort((a, b) =&gt; b.localeCompare(a));&#10;  seasonSelect.innerHTML = years&#10;    .map(y =&gt; `&lt;option value=&quot;${y}&quot; ${y === state.currentSeason ? 'selected' : ''}&gt;${y}&lt;/option&gt;`)&#10;    .join('');&#10;  &#10;  // Update compact season label if present&#10;  const lbl = $('#seasonLabel');&#10;  if (lbl &amp;&amp; state.seasons &amp;&amp; state.seasons[state.currentSeason]) {&#10;    lbl.textContent = `Season ${state.currentSeason} · ${state.seasons[state.currentSeason].quizzes.length} quizzes`;&#10;  }&#10;}&#10;&#10;/**&#10; * Get the current season data&#10; * @returns {Object} Current season object&#10; */&#10;function getSeason() {&#10;  return state.seasons[state.currentSeason];&#10;}&#10;&#10;/**&#10; * Compute leaderboard data for current season&#10; * @returns {Array&lt;Object&gt;} Array of team statistics&#10; */&#10;function computeLeaderboard() {&#10;  const s = getSeason();&#10;  const quizzes = s.quizzes || [];&#10;  const total = quizzes.reduce((a, q) =&gt; a + (Number(q.points) || 0), 0);&#10;  const avg = quizzes.length ? total / quizzes.length : 0;&#10;  return [{&#10;    team: s.team || TEAM_NAME,&#10;    quizzes: quizzes.length,&#10;    total,&#10;    average: avg&#10;  }];&#10;}&#10;&#10;/**&#10; * Render the leaderboard table&#10; */&#10;function renderLeaderboard() {&#10;  const tbody = $('#leaderboard tbody');&#10;  const rows = computeLeaderboard();&#10;  tbody.innerHTML = rows.map((r, i) =&gt; {&#10;    const medal = '';&#10;    return `&lt;tr&gt;&#10;          &lt;td class=&quot;rank&quot;&gt;${i + 1} &lt;span class=&quot;medal&quot; title=&quot;Top 1&quot;&gt;${medal}&lt;/span&gt;&lt;/td&gt;&#10;          &lt;td style=&quot;font-weight:700&quot;&gt;${r.team}&lt;/td&gt;&#10;          &lt;td&gt;${r.quizzes}&lt;/td&gt;&#10;          &lt;td&gt;${fmt(r.total)}&lt;/td&gt;&#10;          &lt;td&gt;${r.average ? r.average.toFixed(2) : '0.00'}&lt;/td&gt;&#10;        &lt;/tr&gt;`;&#10;  }).join('');&#10;}&#10;&#10;/**&#10; * Get place description from points (when explicit place is not provided)&#10; * @param {number} p - Points earned&#10; * @returns {string} Place description&#10; */&#10;function placeFromPoints(p) {&#10;  if (p &gt;= POINTS_FOR_FIRST_PLACE) {&#10;    return '1st place';&#10;  }&#10;  if (p === POINTS_FOR_SECOND_PLACE) {&#10;    return '2nd place';&#10;  }&#10;  if (p === POINTS_FOR_THIRD_PLACE) {&#10;    return '3rd place';&#10;  }&#10;  return '4th place or below';&#10;}&#10;&#10;/**&#10; * Get ordinal suffix for a place number (st, nd, rd, th)&#10; * @param {number} place - Place number&#10; * @returns {string} Ordinal suffix&#10; */&#10;function getPlaceSuffix(place) {&#10;  if (place === 1) {&#10;    return 'st';&#10;  }&#10;  if (place === 2) {&#10;    return 'nd';&#10;  }&#10;  if (place === 3) {&#10;    return 'rd';&#10;  }&#10;  return 'th';&#10;}&#10;&#10;function renderHistory() {&#10;  const box = $('#quizHistory');&#10;  const s = getSeason();&#10;  const quizzes = [...(s.quizzes || [])].sort((a, b) =&gt; a.date.localeCompare(b.date)).reverse();&#10;  if (!quizzes.length) { box.innerHTML = '&lt;p class=&quot;subtitle&quot;&gt;No quizzes yet — click “Add Quiz”.&lt;/p&gt;'; return; }&#10;  box.innerHTML = quizzes.map(q =&gt; {&#10;    const placeInfo = q.place &gt; 0 ? `${q.place}${getPlaceSuffix(q.place)} place` : placeFromPoints(Number(q.points) || 0);&#10;    const meta = `${placeInfo} vs ${fmt(q.teams || 0)} team${(q.teams || 0) === 1 ? '' : 's'} • ${fmt(q.points)} pts`;&#10;    const details = `&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Field&lt;/th&gt;&lt;th&gt;Value&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&#10;          ${q.place &gt; 0 ? `&lt;tr&gt;&lt;td&gt;Place&lt;/td&gt;&lt;td&gt;${q.place}${getPlaceSuffix(q.place)}&lt;/td&gt;&lt;/tr&gt;` : ''}&#10;          &lt;tr&gt;&lt;td&gt;Points&lt;/td&gt;&lt;td&gt;${fmt(q.points)}&lt;/td&gt;&lt;/tr&gt;&#10;          &lt;tr&gt;&lt;td&gt;Teams&lt;/td&gt;&lt;td&gt;${fmt(q.teams || 0)}&lt;/td&gt;&lt;/tr&gt;&#10;          ${q.notes ? `&lt;tr&gt;&lt;td&gt;Notes&lt;/td&gt;&lt;td&gt;${q.notes}&lt;/td&gt;&lt;/tr&gt;` : ''}&#10;        &lt;/tbody&gt;&lt;/table&gt;`;&#10;    const gallery = (q.photos &amp;&amp; q.photos.length)&#10;      ? `&lt;div class=&quot;subtitle&quot; style=&quot;margin-top:10px&quot;&gt;Photos&lt;/div&gt;&#10;             &lt;div class=&quot;photo-grid&quot; data-date=&quot;${q.date}&quot;&gt;&#10;               ${q.photos.map((src, i) =&gt; `&lt;img src=&quot;${src}&quot; loading=&quot;lazy&quot; alt=&quot;Photo ${i + 1} from ${q.date}&quot; class=&quot;photo-thumb&quot; data-date=&quot;${q.date}&quot; data-index=&quot;${i}&quot;&gt;`).join('')}&#10;             &lt;/div&gt;`&#10;      : '';&#10;    return `&lt;details class=&quot;quiz-card&quot;&gt;&#10;            &lt;summary&gt;&#10;              &lt;div&gt;&#10;                &lt;div class=&quot;quiz-title&quot;&gt;${new Date(q.date + 'T00:00:00').toLocaleDateString(undefined, { weekday: 'long', year: 'numeric', month: 'short', day: 'numeric' })}&lt;/div&gt;&#10;                &lt;div class=&quot;quiz-meta&quot;&gt;${meta}&lt;/div&gt;&#10;              &lt;/div&gt;&#10;            &lt;/summary&gt;&#10;            &lt;div style=&quot;grid-column:1/-1; margin-top:10px&quot;&gt;${details}${gallery}&lt;/div&gt;&#10;          &lt;/details&gt;`&#10;  }).join('');&#10;&#10;}&#10;&#10;function renderSeasonStats() {&#10;  const s = getSeason();&#10;  const totalQuizzes = (s.quizzes || []).length;&#10;  const latest = (s.quizzes || []).map(q =&gt; q.date).sort().pop();&#10;  const nextMonday = computeNextMonday();&#10;  const bestQuiz = (s.quizzes || []).slice().sort((a, b) =&gt; (b.points || 0) - (a.points || 0))[0];&#10;  const avgTeams = (s.quizzes || []).length ? (s.quizzes.reduce((a, q) =&gt; a + (Number(q.teams) || 0), 0) / s.quizzes.length) : 0;&#10;  const avgPlace = (s.quizzes || []).length ? (s.quizzes.reduce((a, q) =&gt; a + (Number(q.place) || 0), 0) / s.quizzes.length) : 0;&#10;&#10;  $('#seasonStats').innerHTML = `&#10;        &lt;div class=&quot;two-col&quot;&gt;&#10;          &lt;div class=&quot;panel&quot; style=&quot;padding:0&quot;&gt;&#10;            &lt;div class=&quot;head&quot;&gt;&lt;h3 style=&quot;margin:0&quot;&gt;Season Progress&lt;/h3&gt;&lt;/div&gt;&#10;            &lt;div class=&quot;body&quot;&gt;&#10;              &lt;div class=&quot;subtitle&quot;&gt;Quizzes so far&lt;/div&gt;&#10;              &lt;div class=&quot;glow&quot; style=&quot;font-size:42px; font-weight:800&quot;&gt;${fmt(totalQuizzes)}&lt;/div&gt;&#10;              &lt;div class=&quot;subtitle&quot; style=&quot;margin-top:8px&quot;&gt;Latest quiz: ${latest ? new Date(latest + 'T00:00:00').toLocaleDateString() : '—'}&lt;/div&gt;&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;          &lt;div class=&quot;panel&quot; style=&quot;padding:0&quot;&gt;&#10;            &lt;div class=&quot;head&quot;&gt;&lt;h3 style=&quot;margin:0&quot;&gt;Next Monday&lt;/h3&gt;&lt;/div&gt;&#10;            &lt;div class=&quot;body&quot;&gt;&#10;              &lt;div class=&quot;glow&quot; style=&quot;font-size:32px; font-weight:800&quot;&gt;${nextMonday.toLocaleDateString(undefined, { weekday: 'long', month: 'short', day: 'numeric' })}&lt;/div&gt;&#10;              &lt;div class=&quot;subtitle&quot;&gt;Ready for the next battle ✨&lt;/div&gt;&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;        &lt;div class=&quot;panel&quot; style=&quot;margin-top:16px&quot;&gt;&#10;          &lt;div class=&quot;head&quot;&gt;&lt;h3 style=&quot;margin:0&quot;&gt;Highlights&lt;/h3&gt;&lt;/div&gt;&#10;          &lt;div class=&quot;body&quot;&gt;&#10;            &lt;div&gt;Average place: &lt;strong&gt;${avgPlace ? avgPlace.toFixed(1) : '—'}&lt;/strong&gt;&lt;/div&gt;&#10;            ${bestQuiz ? `&lt;div&gt;Best place: &lt;strong&gt;${bestQuiz.place &gt; 0 ? bestQuiz.place + getPlaceSuffix(bestQuiz.place) : placeFromPoints(bestQuiz.points)}&lt;/strong&gt; on ${new Date(bestQuiz.date + 'T00:00:00').toLocaleDateString()}&lt;/div&gt;` : ''}&#10;            &lt;div&gt;Average teams per quiz: &lt;strong&gt;${avgTeams ? avgTeams.toFixed(1) : '—'}&lt;/strong&gt;&lt;/div&gt;&#10;            &lt;div&gt;Most teams in a quiz: &lt;strong&gt;${s.quizzes &amp;&amp; s.quizzes.length ? Math.max(...s.quizzes.map(q =&gt; q.teams || 0)) : '—'}&lt;/strong&gt;&lt;/div&gt;&#10;            ${bestQuiz ? `&lt;div&gt;Best points: &lt;strong&gt;${fmt(bestQuiz.points)}&lt;/strong&gt; on ${new Date(bestQuiz.date + 'T00:00:00').toLocaleDateString()}&lt;/div&gt;` : '&lt;div class=&quot;subtitle&quot;&gt;No data yet&lt;/div&gt;'}&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;`;&#10;}&#10;&#10;function renderQuickAccess() {&#10;  const list = $('#quickAccessList');&#10;  const quickAccessItems = [&#10;    { type: 'link', name: 'БГ Царе', url: 'https://www.facebook.com/photo.php?fbid=633204463902604&amp;id=164734567416265&amp;set=a.370650973491289', icon: '' },&#10;    { type: 'photo', name: 'Trophy — 06 Oct 2025', url: 'photos/2025-10-06/06-10-2025-trophy-photo-1.JPEG', thumbnail: 'photos/2025-10-06/06-10-2025-trophy-photo-1.JPEG' }&#10;  ];&#10;&#10;  if (!quickAccessItems || quickAccessItems.length === 0) {&#10;    list.innerHTML = '&lt;li class=&quot;quick-access-empty&quot;&gt;No quick access items yet&lt;/li&gt;';&#10;    return;&#10;  }&#10;&#10;  list.innerHTML = quickAccessItems.map(item =&gt; {&#10;    if (item.type === 'photo') {&#10;      return `&lt;a href=&quot;${item.url}&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot; class=&quot;quick-access-item&quot;&gt;&#10;            &lt;img src=&quot;${item.thumbnail || item.url}&quot; alt=&quot;${item.name}&quot; class=&quot;quick-access-icon&quot;&gt;&#10;            &lt;span class=&quot;quick-access-name&quot;&gt;${item.name}&lt;/span&gt;&#10;          &lt;/a&gt;`;&#10;    } else {&#10;      // link type&#10;      return `&lt;a href=&quot;${item.url}&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot; class=&quot;quick-access-item&quot;&gt;&#10;            &lt;div class=&quot;quick-access-link-icon&quot;&gt;${item.icon || ''}&lt;/div&gt;&#10;            &lt;span class=&quot;quick-access-name&quot;&gt;${item.name}&lt;/span&gt;&#10;          &lt;/a&gt;`;&#10;    }&#10;  }).join('');&#10;}&#10;&#10;// ---------- Events ----------&#10;/**&#10; * Handle season selector change event&#10; */&#10;seasonSelect.addEventListener('change', async () =&gt; {&#10;  state.currentSeason = seasonSelect.value;&#10;  save(state);&#10;  await tryLoadCSVForSeason(state.currentSeason);&#10;  renderAll();&#10;});&#10;&#10;// ---------- Toast &amp; Confetti ----------&#10;/**&#10; * Display a toast notification&#10; * @param {string} msg - Message to display&#10; */&#10;function toast(msg) {&#10;  const t = $('#toast');&#10;  if (t) {&#10;    t.textContent = msg;&#10;    t.classList.add('show');&#10;    setTimeout(() =&gt; t.classList.remove('show'), TOAST_DURATION_MS);&#10;  } else {&#10;    console.log('Toast:', msg);&#10;  }&#10;}&#10;&#10;// ---------- Confetti Effect ----------&#10;const fx = document.getElementById('fx');&#10;const ctx = fx.getContext('2d');&#10;let particles = [];&#10;&#10;/**&#10; * Resize canvas to match window size&#10; */&#10;function resize() {&#10;  fx.width = innerWidth;&#10;  fx.height = innerHeight;&#10;}&#10;addEventListener('resize', resize);&#10;resize();&#10;&#10;/**&#10; * Trigger confetti animation&#10; */&#10;function confetti() {&#10;  for (let i = 0; i &lt; CONFETTI_PARTICLE_COUNT; i++) {&#10;    particles.push({&#10;      x: Math.random() * fx.width,&#10;      y: -20,&#10;      vx: (Math.random() - 0.5) * 2,&#10;      vy: 2 + Math.random() * 2.5,&#10;      r: 2 + Math.random() * 4,&#10;      a: 1&#10;    });&#10;  }&#10;}&#10;&#10;/**&#10; * Animation tick for confetti particles&#10; */&#10;function tick() {&#10;  ctx.clearRect(0, 0, fx.width, fx.height);&#10;  particles.forEach(p =&gt; {&#10;    p.x += p.vx;&#10;    p.y += p.vy;&#10;    p.a -= 0.008;&#10;    p.vy += 0.02;&#10;    ctx.globalAlpha = Math.max(p.a, 0);&#10;    ctx.beginPath();&#10;    ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);&#10;    const g = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, p.r);&#10;    g.addColorStop(0, 'rgba(34,211,238,1)');&#10;    g.addColorStop(1, 'rgba(139,92,246,0)');&#10;    ctx.fillStyle = g;&#10;    ctx.fill();&#10;  });&#10;  particles = particles.filter(p =&gt; p.a &gt; 0 &amp;&amp; p.y &lt; fx.height + 20);&#10;  requestAnimationFrame(tick);&#10;}&#10;tick();&#10;&#10;// ---------- Team Presence ----------&#10;let presenceData = null;&#10;&#10;/**&#10; * Load team presence data from CSV&#10; */&#10;async function loadPresenceData() {&#10;  const urlCsv = `data/presence.csv?v=${Date.now()}`;&#10;  try {&#10;    const res = await fetch(urlCsv, { cache: 'no-store' });&#10;    if (!res.ok) {&#10;      throw new Error(`Presence CSV not found (${res.status})`);&#10;    }&#10;    const text = await res.text();&#10;    presenceData = parsePresenceCSV(text);&#10;  } catch (e) {&#10;    console.warn('Failed to load presence data:', e.message);&#10;    presenceData = null;&#10;  }&#10;}&#10;&#10;/**&#10; * Parse team presence CSV data&#10; * @param {string} text - Raw CSV text&#10; * @returns {Object|null} Object with teamMembers array and counts object, or null if invalid&#10; */&#10;function parsePresenceCSV(text) {&#10;  const lines = text.replace(/^\uFEFF/, '').trim().split(/\r?\n/);&#10;  if (!lines.length) {&#10;    return null;&#10;  }&#10;  &#10;  // First line contains team member names (skip first empty column)&#10;  const header = splitCSVLine(lines[0]);&#10;  const teamMembers = header.slice(1).map(name =&gt; name.trim()).filter(Boolean);&#10;  &#10;  // Initialize counts&#10;  const counts = {};&#10;  teamMembers.forEach(name =&gt; {&#10;    counts[name] = 0;&#10;  });&#10;  &#10;  // Also keep per-date attendance rows for later lookup (date -&gt; { name: true/false })&#10;  const rows = [];&#10;&#10;  // Parse each attendance row&#10;  for (let i = 1; i &lt; lines.length; i++) {&#10;    const line = lines[i];&#10;    if (!line || !line.trim()) {&#10;      continue;&#10;    }&#10;    const cols = splitCSVLine(line);&#10;    const dateRaw = (cols[0] || '').trim();&#10;    const normalizedDate = normalizeDate(dateRaw) || dateRaw; // keep original if normalization fails&#10;    const attendance = {};&#10;&#10;    // Skip the date column (first column) and count &quot;yes&quot; values&#10;    for (let j = 1; j &lt; cols.length &amp;&amp; j &lt;= teamMembers.length; j++) {&#10;      const value = (cols[j] || '').trim().toLowerCase();&#10;      const present = value === 'yes';&#10;      const memberName = teamMembers[j - 1];&#10;      attendance[memberName] = present;&#10;      if (present) {&#10;        counts[memberName]++;&#10;      }&#10;    }&#10;    rows.push({ date: normalizedDate, rawDate: dateRaw, attendance });&#10;  }&#10;  &#10;  return { teamMembers, counts, rows };&#10;}&#10;&#10;/**&#10; * Render team presence visualization&#10; */&#10;function renderTeamPresence() {&#10;  const container = $('#teamPresenceSection');&#10;  if (!container) {&#10;    return;&#10;  }&#10;  &#10;  if (!presenceData) {&#10;    container.innerHTML = '&lt;div class=&quot;subtitle&quot; style=&quot;padding: 18px;&quot;&gt;Presence data not available&lt;/div&gt;';&#10;    return;&#10;  }&#10;  &#10;  const { teamMembers, counts } = presenceData;&#10;  const maxCount = Math.max(...Object.values(counts), 1);&#10;  &#10;  // Sort by count descending for better visualization&#10;  const sortedMembers = [...teamMembers].sort((a, b) =&gt; counts[b] - counts[a]);&#10;  &#10;  const barsHtml = sortedMembers.map(name =&gt; {&#10;    const count = counts[name];&#10;    const percentage = (count / maxCount) * 100;&#10;    // Render the name as a focusable div (role=button) instead of a &lt;button&gt;&#10;    return `&#10;      &lt;div class=&quot;presence-bar-item&quot;&gt;&#10;        &lt;div class=&quot;presence-name&quot; role=&quot;button&quot; tabindex=&quot;0&quot; data-member=&quot;${escapeHtml(name)}&quot;&gt;${escapeHtml(name)}&lt;/div&gt;&#10;        &lt;div class=&quot;presence-bar-container&quot;&gt;&#10;          &lt;div class=&quot;presence-bar&quot; style=&quot;width: ${percentage}%&quot;&gt;&#10;            &lt;span class=&quot;presence-count&quot;&gt;${count}&lt;/span&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;    `;&#10;  }).join('');&#10;&#10;  container.innerHTML = `&#10;    &lt;div class=&quot;head&quot;&gt;&#10;      &lt;h2&gt;Team Member Presence&lt;/h2&gt;&#10;      &lt;div class=&quot;subtitle&quot;&gt;Number of quizzes attended by each team member (only original G S '25 members)&lt;/div&gt;&#10;    &lt;/div&gt;&#10;    &lt;div class=&quot;body&quot;&gt;&#10;      &lt;div class=&quot;presence-bars&quot;&gt;&#10;        ${barsHtml}&#10;      &lt;/div&gt;&#10;    &lt;/div&gt;&#10;    &lt;div class=&quot;subtitle&quot;&gt;Notable mentions - Kalin, Magi, Dari&lt;/div&gt;&#10;  `;&#10;&#10;  // Attach click handlers for the member elements and support keyboard activation&#10;  $$('.presence-name').forEach(el =&gt; {&#10;    el.addEventListener('click', (e) =&gt; {&#10;      const name = e.currentTarget.dataset.member;&#10;      openPresenceModal(name);&#10;    });&#10;    el.addEventListener('keydown', (e) =&gt; {&#10;      if (e.key === 'Enter' || e.key === ' ') {&#10;        e.preventDefault();&#10;        const name = e.currentTarget.dataset.member;&#10;        openPresenceModal(name);&#10;      }&#10;    });&#10;  });&#10;}&#10;&#10;/**&#10; * Escape a string for HTML insertion (minimal safe escaping)&#10; */&#10;function escapeHtml(s) {&#10;  return String(s)&#10;    .replace(/&amp;/g, '&amp;amp;')&#10;    .replace(/&lt;/g, '&amp;lt;')&#10;    .replace(/&gt;/g, '&amp;gt;')&#10;    .replace(/&quot;/g, '&amp;quot;')&#10;    .replace(/'/g, '&amp;#39;');&#10;}&#10;&#10;/**&#10; * Open the presence modal for a specific team member and show attended quizzes&#10; * @param {string} memberName&#10; */&#10;function openPresenceModal(memberName) {&#10;  if (!presenceData) return;&#10;  const modal = document.getElementById('presenceModal');&#10;  const body = document.getElementById('presenceModalBody');&#10;  const title = document.getElementById('presenceModalTitle');&#10;  title.textContent = `Attendance — ${memberName}`;&#10;&#10;  // Compute which quizzes (dates) this member attended by cross-referencing season quizzes and presence rows&#10;  const season = getSeason();&#10;  const quizzes = (season.quizzes || []).slice().sort((a, b) =&gt; a.date.localeCompare(b.date));&#10;  const attended = [];&#10;&#10;  // Presence rows are parsed with normalized dates; match by date (YYYY-MM-DD) or original raw if necessary&#10;  const rowsByDate = {};&#10;  presenceData.rows.forEach(r =&gt; { rowsByDate[r.date] = r; rowsByDate[r.rawDate] = r; });&#10;&#10;  quizzes.forEach(q =&gt; {&#10;    const row = rowsByDate[q.date] || rowsByDate[q.date.replace(/^0+/, '')] || null;&#10;    // Also try matching by localized form (e.g., 03.11.2025) by comparing normalized original&#10;    let present = false;&#10;    if (row &amp;&amp; row.attendance &amp;&amp; typeof row.attendance[memberName] !== 'undefined') {&#10;      present = !!row.attendance[memberName];&#10;    } else {&#10;      // Fallback: try to find any row where rawDate normalizes to q.date&#10;      for (const r of presenceData.rows) {&#10;        if (normalizeDate(r.rawDate) === q.date &amp;&amp; typeof r.attendance[memberName] !== 'undefined') {&#10;          present = !!r.attendance[memberName];&#10;          break;&#10;        }&#10;      }&#10;    }&#10;    if (present) {&#10;      attended.push(q);&#10;    }&#10;  });&#10;&#10;  if (!attended.length) {&#10;    body.innerHTML = `&lt;div class=&quot;subtitle&quot;&gt;No quizzes attended in the current season were found for ${escapeHtml(memberName)}.&lt;/div&gt;`;&#10;  } else {&#10;    body.innerHTML = `&lt;ul class=&quot;presence-attended-list&quot;&gt;${attended.map(q =&gt; `&lt;li&gt;&lt;button class=&quot;link-like&quot; data-date=&quot;${q.date}&quot;&gt;${new Date(q.date + 'T00:00:00').toLocaleDateString(undefined, { weekday: 'short', year: 'numeric', month: 'short', day: 'numeric' })}&lt;/button&gt; — ${escapeHtml(q.notes || '')} (${fmt(q.points || 0)} pts)&lt;/li&gt;`).join('')}&lt;/ul&gt;`;&#10;  }&#10;&#10;  // Make dates clickable to open photo gallery if photos exist&#10;  body.querySelectorAll('button[data-date]').forEach(b =&gt; {&#10;    b.addEventListener('click', (e) =&gt; {&#10;      const date = e.currentTarget.dataset.date;&#10;      openGalleryFor(date, 0);&#10;      closePresenceModal();&#10;    });&#10;  });&#10;&#10;  modal.classList.add('open');&#10;  modal.setAttribute('aria-hidden', 'false');&#10;  document.body.style.overflow = 'hidden';&#10;}&#10;&#10;function closePresenceModal() {&#10;  const modal = document.getElementById('presenceModal');&#10;  modal.classList.remove('open');&#10;  modal.setAttribute('aria-hidden', 'true');&#10;  document.body.style.overflow = '';&#10;}&#10;&#10;// Presence modal close button hookup&#10;document.getElementById('presenceModalClose')?.addEventListener('click', closePresenceModal);&#10;// Close when clicking backdrop&#10;document.getElementById('presenceModal')?.addEventListener('click', (e) =&gt; { if (e.target.id === 'presenceModal') closePresenceModal(); });&#10;&#10;// ---------- Main Rendering &amp; Initialization ----------&#10;/**&#10; * Render all UI components&#10; */&#10;async function renderAll() {&#10;  renderSeasons();&#10;  renderLeaderboard();&#10;  renderQuickAccess();&#10;  renderHistory();&#10;  renderSeasonStats();&#10;  renderTeamPresence();&#10;}&#10;&#10;/**&#10; * Initialize application on page load&#10; */&#10;(async () =&gt; {&#10;  await tryLoadCSVForSeason(state.currentSeason);&#10;  await loadPresenceData();&#10;  renderAll();&#10;})();&#10;&#10;// ---------- Photo Modal Logic ----------&#10;const photoModal = document.getElementById('photoModal');&#10;const photoImg = document.getElementById('photoImage');&#10;const photoCaption = document.getElementById('photoCaption');&#10;const photoPager = document.getElementById('photoPager');&#10;const photoPrev = document.getElementById('photoPrev');&#10;const photoNext = document.getElementById('photoNext');&#10;const photoCloseBtn = document.getElementById('photoModalClose');&#10;let currentPhotos = [];&#10;let currentIndex = 0;&#10;let currentDate = '';&#10;&#10;/**&#10; * Open photo gallery for a specific quiz date&#10; * @param {string} date - Quiz date&#10; * @param {number} [start=0] - Starting photo index&#10; */&#10;function openGalleryFor(date, start = 0) {&#10;  const s = getSeason();&#10;  const q = (s.quizzes || []).find(x =&gt; x.date === date);&#10;  if (!q || !q.photos || !q.photos.length) {&#10;    return;&#10;  }&#10;  currentPhotos = q.photos.slice();&#10;  currentIndex = Math.min(Math.max(0, start), currentPhotos.length - 1);&#10;  currentDate = date;&#10;  showCurrentPhoto();&#10;  photoModal.classList.add('open');&#10;  photoModal.setAttribute('aria-hidden', 'false');&#10;  document.body.style.overflow = 'hidden';&#10;}&#10;&#10;/**&#10; * Close the photo gallery modal&#10; */&#10;function closeGallery() {&#10;  photoModal.classList.remove('open');&#10;  photoModal.setAttribute('aria-hidden', 'true');&#10;  document.body.style.overflow = '';&#10;}&#10;&#10;/**&#10; * Display the current photo in the gallery&#10; */&#10;function showCurrentPhoto() {&#10;  if (!currentPhotos.length) {&#10;    return;&#10;  }&#10;  const src = currentPhotos[currentIndex];&#10;  photoImg.src = src;&#10;  photoImg.alt = `Photo ${currentIndex + 1} of ${currentPhotos.length} from ${currentDate}`;&#10;  photoCaption.textContent = new Date(currentDate + 'T00:00:00').toLocaleDateString(undefined, {&#10;    weekday: 'long',&#10;    year: 'numeric',&#10;    month: 'short',&#10;    day: 'numeric'&#10;  });&#10;  photoPager.textContent = `${currentIndex + 1} / ${currentPhotos.length}`;&#10;}&#10;&#10;/**&#10; * Navigate to next photo in gallery&#10; */&#10;function nextPhoto() {&#10;  if (!currentPhotos.length) {&#10;    return;&#10;  }&#10;  currentIndex = (currentIndex + 1) % currentPhotos.length;&#10;  showCurrentPhoto();&#10;}&#10;&#10;/**&#10; * Navigate to previous photo in gallery&#10; */&#10;function prevPhoto() {&#10;  if (!currentPhotos.length) {&#10;    return;&#10;  }&#10;  currentIndex = (currentIndex - 1 + currentPhotos.length) % currentPhotos.length;&#10;  showCurrentPhoto();&#10;}&#10;&#10;// ---------- Event Listeners ----------&#10;// Event delegation for photo thumbnails&#10;document.addEventListener('click', (e) =&gt; {&#10;  const img = e.target.closest('img.photo-thumb');&#10;  if (img) {&#10;    const date = img.dataset.date;&#10;    const idx = Number(img.dataset.index) || 0;&#10;    openGalleryFor(date, idx);&#10;  }&#10;});&#10;&#10;// Modal controls&#10;photoPrev?.addEventListener('click', prevPhoto);&#10;photoNext?.addEventListener('click', nextPhoto);&#10;photoCloseBtn?.addEventListener('click', closeGallery);&#10;photoModal?.addEventListener('click', (e) =&gt; {&#10;  if (e.target === photoModal) {&#10;    closeGallery();&#10;  }&#10;});&#10;&#10;// Keyboard navigation for photo modal&#10;window.addEventListener('keydown', (e) =&gt; {&#10;  if (!photoModal.classList.contains('open')) {&#10;    return;&#10;  }&#10;  if (e.key === 'Escape') {&#10;    closeGallery();&#10;  }&#10;  if (e.key === 'ArrowRight') {&#10;    nextPhoto();&#10;  }&#10;  if (e.key === 'ArrowLeft') {&#10;    prevPhoto();&#10;  }&#10;});&#10;" />
              <option name="updatedContent" value="// Extracted from index.html inline &lt;script&gt;&#10;&#10;// ---------- Utilities ----------&#10;/**&#10; * Shorthand for document.querySelector&#10; * @param {string} sel - CSS selector&#10; * @returns {Element|null} The first matching element&#10; */&#10;const $ = sel =&gt; document.querySelector(sel);&#10;&#10;/**&#10; * Shorthand for document.querySelectorAll as array&#10; * @param {string} sel - CSS selector&#10; * @returns {Element[]} Array of matching elements&#10; */&#10;const $$ = sel =&gt; Array.from(document.querySelectorAll(sel));&#10;&#10;/**&#10; * Format number with locale-specific formatting&#10; * @param {number} n - Number to format&#10; * @returns {string} Formatted number string&#10; */&#10;const fmt = n =&gt; new Intl.NumberFormat().format(n);&#10;&#10;// ---------- Constants ----------&#10;const STORAGE_KEY = 'quizLeagueData:v2-singleTeam';&#10;const TEAM_NAME = 'Gorsko Slivovo';&#10;const POINTS_FOR_FIRST_PLACE = 5;&#10;const POINTS_FOR_SECOND_PLACE = 4;&#10;const POINTS_FOR_THIRD_PLACE = 3;&#10;const TOAST_DURATION_MS = 2200;&#10;const CONFETTI_PARTICLE_COUNT = 80;&#10;const CANVAS_BLUR_PX = 80;&#10;&#10;// ---------- Demo Data ----------&#10;/**&#10; * Fallback demo data for when no CSV is available&#10; * @type {Object}&#10; */&#10;const demoData = {&#10;  seasons: {&#10;    '2025': {&#10;      team: TEAM_NAME,&#10;      quizzes: [&#10;        { date: '2025-09-30', notes: 'General Knowledge', points: 2, teams: 13 },&#10;        { date: '2025-10-06', notes: 'General Knowledge', points: 4, teams: 18 }&#10;      ]&#10;    }&#10;  },&#10;  currentSeason: '2025',&#10;  quickAccess: []&#10;};&#10;&#10;// ---------- State Management ----------&#10;/**&#10; * Load initial state from localStorage with fallback to demo data.&#10; * We intentionally do NOT trust localStorage as the authoritative source on boot&#10; * because stale saved data is the main cause of &quot;broken&quot; pages for users who keep&#10; * old data in their browser. Instead we start from demoData and prefer fetching&#10; * a fresh CSV from the repo. localStorage is kept only as a fallback when remote&#10; * data is unavailable (offline or CSV missing).&#10; * @returns {Object} Initial state object&#10; */&#10;function load() {&#10;  try {&#10;    const raw = localStorage.getItem(STORAGE_KEY);&#10;    if (raw) {&#10;      const parsed = JSON.parse(raw);&#10;      // Merge shallow so demoData provides missing keys&#10;      return Object.assign({}, demoData, parsed);&#10;    }&#10;    return demoData;&#10;  } catch (e) {&#10;    console.warn('Failed to load from localStorage:', e);&#10;    return demoData;&#10;  }&#10;}&#10;&#10;/**&#10; * Save state to localStorage&#10; * @param {Object} data - State object to persist&#10; */&#10;function save(data) {&#10;  try {&#10;    localStorage.setItem(STORAGE_KEY, JSON.stringify(data));&#10;  } catch (e) {&#10;    console.warn('Failed to save to localStorage:', e);&#10;  }&#10;}&#10;&#10;// ---------- State ----------&#10;let state = load();&#10;if (!state.quickAccess) {&#10;  state.quickAccess = [];&#10;}&#10;const seasonSelect = $('#seasonSelect');&#10;&#10;// ---------- CSV Loading ----------&#10;/**&#10; * Try to load CSV data for a specific season from the server&#10; * @param {string} year - Season year to load&#10; */&#10;async function tryLoadCSVForSeason(year) {&#10;  const urlCsv = `data/season-${year}.csv?v=${Date.now()}`; // cache-bust GitHub Pages&#10;  try {&#10;    const res = await fetch(urlCsv, { cache: 'no-store' });&#10;    if (!res.ok) {&#10;      throw new Error(`CSV not found (${res.status})`);&#10;    }&#10;    const text = await res.text();&#10;    const quizzes = parseCSV(text);&#10;    &#10;    if (!state.seasons) {&#10;      state.seasons = {};&#10;    }&#10;    if (!state.seasons[year]) {&#10;      state.seasons[year] = { team: TEAM_NAME, quizzes: [] };&#10;    }&#10;    &#10;    state.seasons[year].quizzes = quizzes;&#10;    state.currentSeason = year;&#10;    save(state);&#10;    toast(`Loaded CSV for ${year}`);&#10;  } catch (e) {&#10;    // Remote CSV failed. Try to fall back to any saved data in localStorage for this year.&#10;    const fallbackLoaded = tryLoadFromLocalStorage(year);&#10;    if (!fallbackLoaded) {&#10;      // If we reach here, there was no usable local fallback — stay with demo data.&#10;      toast(`CSV not found for ${year}`);&#10;      console.warn('CSV load skipped:', e.message);&#10;    }&#10;  }&#10;}&#10;&#10;/**&#10; * Attempt to load season data from localStorage as fallback&#10; * @param {string} year - Season year to load&#10; * @returns {boolean} True if data was loaded successfully&#10; */&#10;function tryLoadFromLocalStorage(year) {&#10;  try {&#10;    const raw = localStorage.getItem(STORAGE_KEY);&#10;    if (raw) {&#10;      const saved = JSON.parse(raw);&#10;      if (saved &amp;&amp; saved.seasons &amp;&amp; saved.seasons[year]) {&#10;        // Use the locally-saved CSV as a fallback (offline / missing file)&#10;        if (!state.seasons) {&#10;          state.seasons = {};&#10;        }&#10;        state.seasons[year] = saved.seasons[year];&#10;        state.currentSeason = saved.currentSeason || year;&#10;        toast(`Using cached data for ${year}`);&#10;        return true;&#10;      }&#10;    }&#10;  } catch (e) {&#10;    console.warn('Failed to load from localStorage fallback:', e);&#10;  }&#10;  return false;&#10;}&#10;&#10;// ---------- CSV Parsing ----------&#10;/**&#10; * Basic CSV parser supporting quoted fields, BOM-safe, Windows/Mac/Unix newlines&#10; * @param {string} text - Raw CSV text&#10; * @returns {Array&lt;Object&gt;} Array of quiz objects&#10; */&#10;function parseCSV(text) {&#10;  const lines = text.replace(/^\uFEFF/, '').trim().split(/\r?\n/);&#10;  if (!lines.length) {&#10;    return [];&#10;  }&#10;  &#10;  const header = splitCSVLine(lines[0]).map(h =&gt; h.trim().toLowerCase());&#10;  const idx = {&#10;    date: header.indexOf('date'),&#10;    notes: header.indexOf('notes'),&#10;    points: header.indexOf('points'),&#10;    teams: header.indexOf('teams'),&#10;    place: header.findIndex(h =&gt; ['place', 'position', 'rank'].includes(h)),&#10;    photos: header.findIndex(h =&gt; ['photos', 'images', 'pics', 'gallery'].includes(h))&#10;  };&#10;  &#10;  const out = [];&#10;  for (let i = 1; i &lt; lines.length; i++) {&#10;    const line = lines[i];&#10;    if (!line || !line.trim()) {&#10;      continue;&#10;    }&#10;    &#10;    const cols = splitCSVLine(line);&#10;    const q = {&#10;      date: normalizeDate((cols[idx.date] || '').trim()),&#10;      notes: (cols[idx.notes] || '').trim(),&#10;      points: Number((cols[idx.points] || '').trim() || 0),&#10;      teams: Number((cols[idx.teams] || '').trim() || 0),&#10;      place: idx.place &gt;= 0 ? Number((cols[idx.place] || '').trim() || 0) : 0,&#10;      photos: idx.photos &gt;= 0 ? parsePhotos((cols[idx.photos] || '').trim()) : []&#10;    };&#10;    &#10;    if (q.date) {&#10;      out.push(q);&#10;    }&#10;  }&#10;  return out;&#10;}&#10;&#10;/**&#10; * Split a CSV line into fields, handling quoted values correctly&#10; * @param {string} line - CSV line to split&#10; * @returns {string[]} Array of field values&#10; */&#10;function splitCSVLine(line) {&#10;  const out = [];&#10;  let cur = '';&#10;  let inQ = false;&#10;  &#10;  for (let i = 0; i &lt; line.length; i++) {&#10;    const ch = line[i];&#10;    if (ch === '&quot;') {&#10;      if (inQ &amp;&amp; line[i + 1] === '&quot;') {&#10;        cur += '&quot;';&#10;        i++; // escaped quote&#10;      } else {&#10;        inQ = !inQ;&#10;      }&#10;    } else if (ch === ',' &amp;&amp; !inQ) {&#10;      out.push(cur);&#10;      cur = '';&#10;    } else {&#10;      cur += ch;&#10;    }&#10;  }&#10;  out.push(cur);&#10;  return out;&#10;}&#10;&#10;/**&#10; * Normalize date inputs to YYYY-MM-DD format. Accepts:&#10; * - YYYY-MM-DD (already normalized)&#10; * - YYYY/MM/DD&#10; * - DD.MM.YYYY or D.M.YYYY (also accepts '-' or '/' as separator)&#10; * - Fallback: Date parseable strings&#10; * @param {string} raw - Raw date string&#10; * @returns {string} Normalized date string in YYYY-MM-DD format&#10; */&#10;function normalizeDate(raw) {&#10;  if (!raw) {&#10;    return '';&#10;  }&#10;  raw = raw.trim();&#10;  &#10;  // ISO YYYY-MM-DD&#10;  let m = raw.match(/^(\d{4})-(\d{2})-(\d{2})/);&#10;  if (m) {&#10;    return `${m[1]}-${m[2]}-${m[3]}`;&#10;  }&#10;  &#10;  // ISO alternative YYYY/MM/DD&#10;  m = raw.match(/^(\d{4})\/(\d{2})\/(\d{2})/);&#10;  if (m) {&#10;    return `${m[1]}-${m[2]}-${m[3]}`;&#10;  }&#10;  &#10;  // DD.MM.YYYY or D.M.YYYY, also accept '-' or '/'&#10;  m = raw.match(/^(\d{1,2})[\.\-\/](\d{1,2})[\.\-\/](\d{4})$/);&#10;  if (m) {&#10;    const dd = String(m[1]).padStart(2, '0');&#10;    const mm = String(m[2]).padStart(2, '0');&#10;    const yyyy = m[3];&#10;    return `${yyyy}-${mm}-${dd}`;&#10;  }&#10;  &#10;  // Fallback: try Date parsing and format&#10;  const dt = new Date(raw);&#10;  if (!isNaN(dt.getTime())) {&#10;    const y = dt.getFullYear();&#10;    const mo = String(dt.getMonth() + 1).padStart(2, '0');&#10;    const da = String(dt.getDate()).padStart(2, '0');&#10;    return `${y}-${mo}-${da}`;&#10;  }&#10;  &#10;  return '';&#10;}&#10;&#10;/**&#10; * Accept photos as one of:&#10; * - Semicolon- or pipe-separated list: &quot;img1.jpg; img2.jpg&quot; or &quot;img1.jpg|img2.jpg&quot;&#10; * - JSON array string: [&quot;img1.jpg&quot;, &quot;img2.jpg&quot;]&#10; * - Single path&#10; * Paths can be relative (e.g., photos/2025-10-06/pic.jpg) or absolute URLs.&#10; * @param {string} raw - Raw photos string from CSV&#10; * @returns {string[]} Array of photo paths&#10; */&#10;function parsePhotos(raw) {&#10;  if (!raw) {&#10;    return [];&#10;  }&#10;  &#10;  try {&#10;    const t = raw.trim();&#10;    if (!t) {&#10;      return [];&#10;    }&#10;    &#10;    if (t.startsWith('[')) {&#10;      const arr = JSON.parse(t);&#10;      return Array.isArray(arr) ? arr.map(String).map(s =&gt; s.trim()).filter(Boolean) : [];&#10;    }&#10;    &#10;    const parts = t.split(/[|;]+/).map(s =&gt; s.trim()).filter(Boolean);&#10;    return parts.length ? parts : [t];&#10;  } catch (e) {&#10;    console.warn('Failed to parse photos:', e);&#10;    return [];&#10;  }&#10;}&#10;&#10;/**&#10; * Compute the next Monday date. If today is Monday, returns next week's Monday.&#10; * @param {Date} [from=new Date()] - Starting date&#10; * @returns {Date} Next Monday date&#10; */&#10;function computeNextMonday(from = new Date()) {&#10;  const d = new Date(from.getFullYear(), from.getMonth(), from.getDate());&#10;  const day = d.getDay(); // 0 = Sun, 1 = Mon, ...&#10;  let daysUntil = (1 - day + 7) % 7; // days until Monday (0..6)&#10;  if (daysUntil === 0) {&#10;    daysUntil = 7; // if today is Monday, pick next Monday&#10;  }&#10;  d.setDate(d.getDate() + daysUntil);&#10;  d.setHours(0, 0, 0, 0);&#10;  return d;&#10;}&#10;&#10;// ---------- Rendering ----------&#10;/**&#10; * Render the season selector dropdown&#10; */&#10;function renderSeasons() {&#10;  const years = Object.keys(state.seasons).sort((a, b) =&gt; b.localeCompare(a));&#10;  seasonSelect.innerHTML = years&#10;    .map(y =&gt; `&lt;option value=&quot;${y}&quot; ${y === state.currentSeason ? 'selected' : ''}&gt;${y}&lt;/option&gt;`)&#10;    .join('');&#10;  &#10;  // Update compact season label if present&#10;  const lbl = $('#seasonLabel');&#10;  if (lbl &amp;&amp; state.seasons &amp;&amp; state.seasons[state.currentSeason]) {&#10;    lbl.textContent = `Season ${state.currentSeason} · ${state.seasons[state.currentSeason].quizzes.length} quizzes`;&#10;  }&#10;}&#10;&#10;/**&#10; * Get the current season data&#10; * @returns {Object} Current season object&#10; */&#10;function getSeason() {&#10;  return state.seasons[state.currentSeason];&#10;}&#10;&#10;/**&#10; * Compute leaderboard data for current season&#10; * @returns {Array&lt;Object&gt;} Array of team statistics&#10; */&#10;function computeLeaderboard() {&#10;  const s = getSeason();&#10;  const quizzes = s.quizzes || [];&#10;  const total = quizzes.reduce((a, q) =&gt; a + (Number(q.points) || 0), 0);&#10;  const avg = quizzes.length ? total / quizzes.length : 0;&#10;  return [{&#10;    team: s.team || TEAM_NAME,&#10;    quizzes: quizzes.length,&#10;    total,&#10;    average: avg&#10;  }];&#10;}&#10;&#10;/**&#10; * Render the leaderboard table&#10; */&#10;function renderLeaderboard() {&#10;  const tbody = $('#leaderboard tbody');&#10;  const rows = computeLeaderboard();&#10;  tbody.innerHTML = rows.map((r, i) =&gt; {&#10;    const medal = '';&#10;    return `&lt;tr&gt;&#10;          &lt;td class=&quot;rank&quot;&gt;${i + 1} &lt;span class=&quot;medal&quot; title=&quot;Top 1&quot;&gt;${medal}&lt;/span&gt;&lt;/td&gt;&#10;          &lt;td style=&quot;font-weight:700&quot;&gt;${r.team}&lt;/td&gt;&#10;          &lt;td&gt;${r.quizzes}&lt;/td&gt;&#10;          &lt;td&gt;${fmt(r.total)}&lt;/td&gt;&#10;          &lt;td&gt;${r.average ? r.average.toFixed(2) : '0.00'}&lt;/td&gt;&#10;        &lt;/tr&gt;`;&#10;  }).join('');&#10;}&#10;&#10;/**&#10; * Get place description from points (when explicit place is not provided)&#10; * @param {number} p - Points earned&#10; * @returns {string} Place description&#10; */&#10;function placeFromPoints(p) {&#10;  if (p &gt;= POINTS_FOR_FIRST_PLACE) {&#10;    return '1st place';&#10;  }&#10;  if (p === POINTS_FOR_SECOND_PLACE) {&#10;    return '2nd place';&#10;  }&#10;  if (p === POINTS_FOR_THIRD_PLACE) {&#10;    return '3rd place';&#10;  }&#10;  return '4th place or below';&#10;}&#10;&#10;/**&#10; * Get ordinal suffix for a place number (st, nd, rd, th)&#10; * @param {number} place - Place number&#10; * @returns {string} Ordinal suffix&#10; */&#10;function getPlaceSuffix(place) {&#10;  if (place === 1) {&#10;    return 'st';&#10;  }&#10;  if (place === 2) {&#10;    return 'nd';&#10;  }&#10;  if (place === 3) {&#10;    return 'rd';&#10;  }&#10;  return 'th';&#10;}&#10;&#10;function renderHistory() {&#10;  const box = $('#quizHistory');&#10;  const s = getSeason();&#10;  const quizzes = [...(s.quizzes || [])].sort((a, b) =&gt; a.date.localeCompare(b.date)).reverse();&#10;  if (!quizzes.length) { box.innerHTML = '&lt;p class=&quot;subtitle&quot;&gt;No quizzes yet — click “Add Quiz”.&lt;/p&gt;'; return; }&#10;  box.innerHTML = quizzes.map(q =&gt; {&#10;    const placeInfo = q.place &gt; 0 ? `${q.place}${getPlaceSuffix(q.place)} place` : placeFromPoints(Number(q.points) || 0);&#10;    const meta = `${placeInfo} vs ${fmt(q.teams || 0)} team${(q.teams || 0) === 1 ? '' : 's'} • ${fmt(q.points)} pts`;&#10;    const details = `&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Field&lt;/th&gt;&lt;th&gt;Value&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&#10;          ${q.place &gt; 0 ? `&lt;tr&gt;&lt;td&gt;Place&lt;/td&gt;&lt;td&gt;${q.place}${getPlaceSuffix(q.place)}&lt;/td&gt;&lt;/tr&gt;` : ''}&#10;          &lt;tr&gt;&lt;td&gt;Points&lt;/td&gt;&lt;td&gt;${fmt(q.points)}&lt;/td&gt;&lt;/tr&gt;&#10;          &lt;tr&gt;&lt;td&gt;Teams&lt;/td&gt;&lt;td&gt;${fmt(q.teams || 0)}&lt;/td&gt;&lt;/tr&gt;&#10;          ${q.notes ? `&lt;tr&gt;&lt;td&gt;Notes&lt;/td&gt;&lt;td&gt;${q.notes}&lt;/td&gt;&lt;/tr&gt;` : ''}&#10;        &lt;/tbody&gt;&lt;/table&gt;`;&#10;    const gallery = (q.photos &amp;&amp; q.photos.length)&#10;      ? `&lt;div class=&quot;subtitle&quot; style=&quot;margin-top:10px&quot;&gt;Photos&lt;/div&gt;&#10;             &lt;div class=&quot;photo-grid&quot; data-date=&quot;${q.date}&quot;&gt;&#10;               ${q.photos.map((src, i) =&gt; `&lt;img src=&quot;${src}&quot; loading=&quot;lazy&quot; alt=&quot;Photo ${i + 1} from ${q.date}&quot; class=&quot;photo-thumb&quot; data-date=&quot;${q.date}&quot; data-index=&quot;${i}&quot;&gt;`).join('')}&#10;             &lt;/div&gt;`&#10;      : '';&#10;    return `&lt;details class=&quot;quiz-card&quot;&gt;&#10;            &lt;summary&gt;&#10;              &lt;div&gt;&#10;                &lt;div class=&quot;quiz-title&quot;&gt;${new Date(q.date + 'T00:00:00').toLocaleDateString(undefined, { weekday: 'long', year: 'numeric', month: 'short', day: 'numeric' })}&lt;/div&gt;&#10;                &lt;div class=&quot;quiz-meta&quot;&gt;${meta}&lt;/div&gt;&#10;              &lt;/div&gt;&#10;            &lt;/summary&gt;&#10;            &lt;div style=&quot;grid-column:1/-1; margin-top:10px&quot;&gt;${details}${gallery}&lt;/div&gt;&#10;          &lt;/details&gt;`&#10;  }).join('');&#10;&#10;}&#10;&#10;function renderSeasonStats() {&#10;  const s = getSeason();&#10;  const totalQuizzes = (s.quizzes || []).length;&#10;  const latest = (s.quizzes || []).map(q =&gt; q.date).sort().pop();&#10;  const nextMonday = computeNextMonday();&#10;  const bestQuiz = (s.quizzes || []).slice().sort((a, b) =&gt; (b.points || 0) - (a.points || 0))[0];&#10;  const avgTeams = (s.quizzes || []).length ? (s.quizzes.reduce((a, q) =&gt; a + (Number(q.teams) || 0), 0) / s.quizzes.length) : 0;&#10;  const avgPlace = (s.quizzes || []).length ? (s.quizzes.reduce((a, q) =&gt; a + (Number(q.place) || 0), 0) / s.quizzes.length) : 0;&#10;&#10;  $('#seasonStats').innerHTML = `&#10;        &lt;div class=&quot;two-col&quot;&gt;&#10;          &lt;div class=&quot;panel&quot; style=&quot;padding:0&quot;&gt;&#10;            &lt;div class=&quot;head&quot;&gt;&lt;h3 style=&quot;margin:0&quot;&gt;Season Progress&lt;/h3&gt;&lt;/div&gt;&#10;            &lt;div class=&quot;body&quot;&gt;&#10;              &lt;div class=&quot;subtitle&quot;&gt;Quizzes so far&lt;/div&gt;&#10;              &lt;div class=&quot;glow&quot; style=&quot;font-size:42px; font-weight:800&quot;&gt;${fmt(totalQuizzes)}&lt;/div&gt;&#10;              &lt;div class=&quot;subtitle&quot; style=&quot;margin-top:8px&quot;&gt;Latest quiz: ${latest ? new Date(latest + 'T00:00:00').toLocaleDateString() : '—'}&lt;/div&gt;&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;          &lt;div class=&quot;panel&quot; style=&quot;padding:0&quot;&gt;&#10;            &lt;div class=&quot;head&quot;&gt;&lt;h3 style=&quot;margin:0&quot;&gt;Next Monday&lt;/h3&gt;&lt;/div&gt;&#10;            &lt;div class=&quot;body&quot;&gt;&#10;              &lt;div class=&quot;glow&quot; style=&quot;font-size:32px; font-weight:800&quot;&gt;${nextMonday.toLocaleDateString(undefined, { weekday: 'long', month: 'short', day: 'numeric' })}&lt;/div&gt;&#10;              &lt;div class=&quot;subtitle&quot;&gt;Ready for the next battle ✨&lt;/div&gt;&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;        &lt;div class=&quot;panel&quot; style=&quot;margin-top:16px&quot;&gt;&#10;          &lt;div class=&quot;head&quot;&gt;&lt;h3 style=&quot;margin:0&quot;&gt;Highlights&lt;/h3&gt;&lt;/div&gt;&#10;          &lt;div class=&quot;body&quot;&gt;&#10;            &lt;div&gt;Average place: &lt;strong&gt;${avgPlace ? avgPlace.toFixed(1) : '—'}&lt;/strong&gt;&lt;/div&gt;&#10;            ${bestQuiz ? `&lt;div&gt;Best place: &lt;strong&gt;${bestQuiz.place &gt; 0 ? bestQuiz.place + getPlaceSuffix(bestQuiz.place) : placeFromPoints(bestQuiz.points)}&lt;/strong&gt; on ${new Date(bestQuiz.date + 'T00:00:00').toLocaleDateString()}&lt;/div&gt;` : ''}&#10;            &lt;div&gt;Average teams per quiz: &lt;strong&gt;${avgTeams ? avgTeams.toFixed(1) : '—'}&lt;/strong&gt;&lt;/div&gt;&#10;            &lt;div&gt;Most teams in a quiz: &lt;strong&gt;${s.quizzes &amp;&amp; s.quizzes.length ? Math.max(...s.quizzes.map(q =&gt; q.teams || 0)) : '—'}&lt;/strong&gt;&lt;/div&gt;&#10;            ${bestQuiz ? `&lt;div&gt;Best points: &lt;strong&gt;${fmt(bestQuiz.points)}&lt;/strong&gt; on ${new Date(bestQuiz.date + 'T00:00:00').toLocaleDateString()}&lt;/div&gt;` : '&lt;div class=&quot;subtitle&quot;&gt;No data yet&lt;/div&gt;'}&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;`;&#10;}&#10;&#10;function renderQuickAccess() {&#10;  const list = $('#quickAccessList');&#10;  const quickAccessItems = [&#10;    { type: 'link', name: 'БГ Царе', url: 'https://www.facebook.com/photo.php?fbid=633204463902604&amp;id=164734567416265&amp;set=a.370650973491289', icon: '' },&#10;    { type: 'photo', name: 'Trophy — 06 Oct 2025', url: 'photos/2025-10-06/06-10-2025-trophy-photo-1.JPEG', thumbnail: 'photos/2025-10-06/06-10-2025-trophy-photo-1.JPEG' }&#10;  ];&#10;&#10;  if (!quickAccessItems || quickAccessItems.length === 0) {&#10;    list.innerHTML = '&lt;li class=&quot;quick-access-empty&quot;&gt;No quick access items yet&lt;/li&gt;';&#10;    return;&#10;  }&#10;&#10;  list.innerHTML = quickAccessItems.map(item =&gt; {&#10;    if (item.type === 'photo') {&#10;      return `&lt;a href=&quot;${item.url}&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot; class=&quot;quick-access-item&quot;&gt;&#10;            &lt;img src=&quot;${item.thumbnail || item.url}&quot; alt=&quot;${item.name}&quot; class=&quot;quick-access-icon&quot;&gt;&#10;            &lt;span class=&quot;quick-access-name&quot;&gt;${item.name}&lt;/span&gt;&#10;          &lt;/a&gt;`;&#10;    } else {&#10;      // link type&#10;      return `&lt;a href=&quot;${item.url}&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot; class=&quot;quick-access-item&quot;&gt;&#10;            &lt;div class=&quot;quick-access-link-icon&quot;&gt;${item.icon || ''}&lt;/div&gt;&#10;            &lt;span class=&quot;quick-access-name&quot;&gt;${item.name}&lt;/span&gt;&#10;          &lt;/a&gt;`;&#10;    }&#10;  }).join('');&#10;}&#10;&#10;// ---------- Events ----------&#10;/**&#10; * Handle season selector change event&#10; */&#10;seasonSelect.addEventListener('change', async () =&gt; {&#10;  state.currentSeason = seasonSelect.value;&#10;  save(state);&#10;  await tryLoadCSVForSeason(state.currentSeason);&#10;  renderAll();&#10;});&#10;&#10;// ---------- Toast &amp; Confetti ----------&#10;/**&#10; * Display a toast notification&#10; * @param {string} msg - Message to display&#10; */&#10;function toast(msg) {&#10;  const t = $('#toast');&#10;  if (t) {&#10;    t.textContent = msg;&#10;    t.classList.add('show');&#10;    setTimeout(() =&gt; t.classList.remove('show'), TOAST_DURATION_MS);&#10;  } else {&#10;    console.log('Toast:', msg);&#10;  }&#10;}&#10;&#10;// ---------- Confetti Effect ----------&#10;const fx = document.getElementById('fx');&#10;const ctx = fx.getContext('2d');&#10;let particles = [];&#10;&#10;/**&#10; * Resize canvas to match window size&#10; */&#10;function resize() {&#10;  fx.width = innerWidth;&#10;  fx.height = innerHeight;&#10;}&#10;addEventListener('resize', resize);&#10;resize();&#10;&#10;/**&#10; * Trigger confetti animation&#10; */&#10;function confetti() {&#10;  for (let i = 0; i &lt; CONFETTI_PARTICLE_COUNT; i++) {&#10;    particles.push({&#10;      x: Math.random() * fx.width,&#10;      y: -20,&#10;      vx: (Math.random() - 0.5) * 2,&#10;      vy: 2 + Math.random() * 2.5,&#10;      r: 2 + Math.random() * 4,&#10;      a: 1&#10;    });&#10;  }&#10;}&#10;&#10;/**&#10; * Animation tick for confetti particles&#10; */&#10;function tick() {&#10;  ctx.clearRect(0, 0, fx.width, fx.height);&#10;  particles.forEach(p =&gt; {&#10;    p.x += p.vx;&#10;    p.y += p.vy;&#10;    p.a -= 0.008;&#10;    p.vy += 0.02;&#10;    ctx.globalAlpha = Math.max(p.a, 0);&#10;    ctx.beginPath();&#10;    ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);&#10;    const g = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, p.r);&#10;    g.addColorStop(0, 'rgba(34,211,238,1)');&#10;    g.addColorStop(1, 'rgba(139,92,246,0)');&#10;    ctx.fillStyle = g;&#10;    ctx.fill();&#10;  });&#10;  particles = particles.filter(p =&gt; p.a &gt; 0 &amp;&amp; p.y &lt; fx.height + 20);&#10;  requestAnimationFrame(tick);&#10;}&#10;tick();&#10;&#10;// ---------- Team Presence ----------&#10;let presenceData = null;&#10;&#10;/**&#10; * Load team presence data from CSV&#10; */&#10;async function loadPresenceData() {&#10;  const urlCsv = `data/presence.csv?v=${Date.now()}`;&#10;  try {&#10;    const res = await fetch(urlCsv, { cache: 'no-store' });&#10;    if (!res.ok) {&#10;      throw new Error(`Presence CSV not found (${res.status})`);&#10;    }&#10;    const text = await res.text();&#10;    presenceData = parsePresenceCSV(text);&#10;  } catch (e) {&#10;    console.warn('Failed to load presence data:', e.message);&#10;    presenceData = null;&#10;  }&#10;}&#10;&#10;/**&#10; * Parse team presence CSV data&#10; * @param {string} text - Raw CSV text&#10; * @returns {Object|null} Object with teamMembers array and counts object, or null if invalid&#10; */&#10;function parsePresenceCSV(text) {&#10;  const lines = text.replace(/^\uFEFF/, '').trim().split(/\r?\n/);&#10;  if (!lines.length) {&#10;    return null;&#10;  }&#10;  &#10;  // First line contains team member names (skip first empty column)&#10;  const header = splitCSVLine(lines[0]);&#10;  const teamMembers = header.slice(1).map(name =&gt; name.trim()).filter(Boolean);&#10;  &#10;  // Initialize counts&#10;  const counts = {};&#10;  teamMembers.forEach(name =&gt; {&#10;    counts[name] = 0;&#10;  });&#10;  &#10;  // Also keep per-date attendance rows for later lookup (date -&gt; { name: true/false })&#10;  const rows = [];&#10;&#10;  // Parse each attendance row&#10;  for (let i = 1; i &lt; lines.length; i++) {&#10;    const line = lines[i];&#10;    if (!line || !line.trim()) {&#10;      continue;&#10;    }&#10;    const cols = splitCSVLine(line);&#10;    const dateRaw = (cols[0] || '').trim();&#10;    const normalizedDate = normalizeDate(dateRaw) || dateRaw; // keep original if normalization fails&#10;    const attendance = {};&#10;&#10;    // Skip the date column (first column) and count &quot;yes&quot; values&#10;    for (let j = 1; j &lt; cols.length &amp;&amp; j &lt;= teamMembers.length; j++) {&#10;      const value = (cols[j] || '').trim().toLowerCase();&#10;      const present = value === 'yes';&#10;      const memberName = teamMembers[j - 1];&#10;      attendance[memberName] = present;&#10;      if (present) {&#10;        counts[memberName]++;&#10;      }&#10;    }&#10;    rows.push({ date: normalizedDate, rawDate: dateRaw, attendance });&#10;  }&#10;  &#10;  return { teamMembers, counts, rows };&#10;}&#10;&#10;/**&#10; * Render team presence visualization&#10; */&#10;function renderTeamPresence() {&#10;  const container = $('#teamPresenceSection');&#10;  if (!container) {&#10;    return;&#10;  }&#10;  &#10;  if (!presenceData) {&#10;    container.innerHTML = '&lt;div class=&quot;subtitle&quot; style=&quot;padding: 18px;&quot;&gt;Presence data not available&lt;/div&gt;';&#10;    return;&#10;  }&#10;  &#10;  const { teamMembers, counts } = presenceData;&#10;  const maxCount = Math.max(...Object.values(counts), 1);&#10;  &#10;  // Sort by count descending for better visualization&#10;  const sortedMembers = [...teamMembers].sort((a, b) =&gt; counts[b] - counts[a]);&#10;  &#10;  const barsHtml = sortedMembers.map(name =&gt; {&#10;    const count = counts[name];&#10;    const percentage = (count / maxCount) * 100;&#10;    // Render the name as a focusable div (role=button) instead of a &lt;button&gt;&#10;    return `&#10;      &lt;div class=&quot;presence-bar-item&quot;&gt;&#10;        &lt;div class=&quot;presence-name&quot; role=&quot;button&quot; tabindex=&quot;0&quot; data-member=&quot;${escapeHtml(name)}&quot;&gt;${escapeHtml(name)}&lt;/div&gt;&#10;        &lt;div class=&quot;presence-bar-container&quot;&gt;&#10;          &lt;div class=&quot;presence-bar&quot; style=&quot;width: ${percentage}%&quot;&gt;&#10;            &lt;span class=&quot;presence-count&quot;&gt;${count}&lt;/span&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;    `;&#10;  }).join('');&#10;&#10;  container.innerHTML = `&#10;    &lt;div class=&quot;head&quot;&gt;&#10;      &lt;h2&gt;Team Member Presence&lt;/h2&gt;&#10;      &lt;div class=&quot;subtitle&quot;&gt;Number of quizzes attended by each team member (only original G S '25 members)&lt;/div&gt;&#10;    &lt;/div&gt;&#10;    &lt;div class=&quot;body&quot;&gt;&#10;      &lt;div class=&quot;presence-bars&quot;&gt;&#10;        ${barsHtml}&#10;      &lt;/div&gt;&#10;    &lt;/div&gt;&#10;    &lt;div class=&quot;subtitle&quot;&gt;Notable mentions - Kalin, Magi, Dari&lt;/div&gt;&#10;  `;&#10;&#10;  // Attach click handlers for the member elements and support keyboard activation&#10;  $$('.presence-name').forEach(el =&gt; {&#10;    el.addEventListener('click', (e) =&gt; {&#10;      const name = e.currentTarget.dataset.member;&#10;      openPresenceModal(name);&#10;    });&#10;    el.addEventListener('keydown', (e) =&gt; {&#10;      if (e.key === 'Enter' || e.key === ' ') {&#10;        e.preventDefault();&#10;        const name = e.currentTarget.dataset.member;&#10;        openPresenceModal(name);&#10;      }&#10;    });&#10;  });&#10;}&#10;&#10;/**&#10; * Escape a string for HTML insertion (minimal safe escaping)&#10; */&#10;function escapeHtml(s) {&#10;  return String(s)&#10;    .replace(/&amp;/g, '&amp;amp;')&#10;    .replace(/&lt;/g, '&amp;lt;')&#10;    .replace(/&gt;/g, '&amp;gt;')&#10;    .replace(/&quot;/g, '&amp;quot;')&#10;    .replace(/'/g, '&amp;#39;');&#10;}&#10;&#10;/**&#10; * Open the presence modal for a specific team member and show attended quizzes&#10; * @param {string} memberName&#10; */&#10;function openPresenceModal(memberName) {&#10;  if (!presenceData) return;&#10;  const modal = document.getElementById('presenceModal');&#10;  const body = document.getElementById('presenceModalBody');&#10;  const title = document.getElementById('presenceModalTitle');&#10;  title.textContent = `Attendance — ${memberName}`;&#10;&#10;  // Compute which quizzes (dates) this member attended by cross-referencing season quizzes and presence rows&#10;  const season = getSeason();&#10;  const quizzes = (season.quizzes || []).slice().sort((a, b) =&gt; a.date.localeCompare(b.date));&#10;  const attended = [];&#10;&#10;  // Presence rows are parsed with normalized dates; match by date (YYYY-MM-DD) or original raw if necessary&#10;  const rowsByDate = {};&#10;  presenceData.rows.forEach(r =&gt; { rowsByDate[r.date] = r; rowsByDate[r.rawDate] = r; });&#10;&#10;  quizzes.forEach(q =&gt; {&#10;    const row = rowsByDate[q.date] || rowsByDate[q.date.replace(/^0+/, '')] || null;&#10;    // Also try matching by localized form (e.g., 03.11.2025) by comparing normalized original&#10;    let present = false;&#10;    if (row &amp;&amp; row.attendance &amp;&amp; typeof row.attendance[memberName] !== 'undefined') {&#10;      present = !!row.attendance[memberName];&#10;    } else {&#10;      // Fallback: try to find any row where rawDate normalizes to q.date&#10;      for (const r of presenceData.rows) {&#10;        if (normalizeDate(r.rawDate) === q.date &amp;&amp; typeof r.attendance[memberName] !== 'undefined') {&#10;          present = !!r.attendance[memberName];&#10;          break;&#10;        }&#10;      }&#10;    }&#10;    if (present) {&#10;      attended.push(q);&#10;    }&#10;  });&#10;&#10;  if (!attended.length) {&#10;    body.innerHTML = `&lt;div class=&quot;subtitle&quot;&gt;No quizzes attended in the current season were found for ${escapeHtml(memberName)}.&lt;/div&gt;`;&#10;  } else {&#10;    body.innerHTML = `&lt;ul class=&quot;presence-attended-list&quot;&gt;${attended.map(q =&gt; `&lt;li&gt;&lt;button class=&quot;link-like&quot; data-date=&quot;${q.date}&quot;&gt;${new Date(q.date + 'T00:00:00').toLocaleDateString(undefined, { weekday: 'short', year: 'numeric', month: 'short', day: 'numeric' })}&lt;/button&gt; — ${escapeHtml(q.notes || '')} (${fmt(q.points || 0)} pts)&lt;/li&gt;`).join('')}&lt;/ul&gt;`;&#10;  }&#10;&#10;  // Make dates clickable to open photo gallery if photos exist&#10;  body.querySelectorAll('button[data-date]').forEach(b =&gt; {&#10;    b.addEventListener('click', (e) =&gt; {&#10;      const date = e.currentTarget.dataset.date;&#10;      openGalleryFor(date, 0);&#10;      closePresenceModal();&#10;    });&#10;  });&#10;&#10;  modal.classList.add('open');&#10;  modal.setAttribute('aria-hidden', 'false');&#10;  document.body.style.overflow = 'hidden';&#10;}&#10;&#10;function closePresenceModal() {&#10;  const modal = document.getElementById('presenceModal');&#10;  modal.classList.remove('open');&#10;  modal.setAttribute('aria-hidden', 'true');&#10;  document.body.style.overflow = '';&#10;}&#10;&#10;// Presence modal close button hookup&#10;document.getElementById('presenceModalClose')?.addEventListener('click', closePresenceModal);&#10;// Close when clicking backdrop&#10;document.getElementById('presenceModal')?.addEventListener('click', (e) =&gt; { if (e.target.id === 'presenceModal') closePresenceModal(); });&#10;&#10;// ---------- Main Rendering &amp; Initialization ----------&#10;/**&#10; * Render all UI components&#10; */&#10;async function renderAll() {&#10;  renderSeasons();&#10;  renderLeaderboard();&#10;  renderQuickAccess();&#10;  renderHistory();&#10;  renderSeasonStats();&#10;  renderTeamPresence();&#10;}&#10;&#10;/**&#10; * Initialize application on page load&#10; */&#10;(async () =&gt; {&#10;  await tryLoadCSVForSeason(state.currentSeason);&#10;  await loadPresenceData();&#10;  renderAll();&#10;})();&#10;&#10;// ---------- Photo Modal Logic ----------&#10;const photoModal = document.getElementById('photoModal');&#10;const photoImg = document.getElementById('photoImage');&#10;const photoCaption = document.getElementById('photoCaption');&#10;const photoPager = document.getElementById('photoPager');&#10;const photoPrev = document.getElementById('photoPrev');&#10;const photoNext = document.getElementById('photoNext');&#10;const photoCloseBtn = document.getElementById('photoModalClose');&#10;let currentPhotos = [];&#10;let currentIndex = 0;&#10;let currentDate = '';&#10;&#10;/**&#10; * Open photo gallery for a specific quiz date&#10; * @param {string} date - Quiz date&#10; * @param {number} [start=0] - Starting photo index&#10; */&#10;function openGalleryFor(date, start = 0) {&#10;  const s = getSeason();&#10;  const q = (s.quizzes || []).find(x =&gt; x.date === date);&#10;  if (!q || !q.photos || !q.photos.length) {&#10;    return;&#10;  }&#10;  currentPhotos = q.photos.slice();&#10;  currentIndex = Math.min(Math.max(0, start), currentPhotos.length - 1);&#10;  currentDate = date;&#10;  showCurrentPhoto();&#10;  photoModal.classList.add('open');&#10;  photoModal.setAttribute('aria-hidden', 'false');&#10;  document.body.style.overflow = 'hidden';&#10;}&#10;&#10;/**&#10; * Close the photo gallery modal&#10; */&#10;function closeGallery() {&#10;  photoModal.classList.remove('open');&#10;  photoModal.setAttribute('aria-hidden', 'true');&#10;  document.body.style.overflow = '';&#10;}&#10;&#10;/**&#10; * Display the current photo in the gallery&#10; */&#10;function showCurrentPhoto() {&#10;  if (!currentPhotos.length) {&#10;    return;&#10;  }&#10;  const src = currentPhotos[currentIndex];&#10;  photoImg.src = src;&#10;  photoImg.alt = `Photo ${currentIndex + 1} of ${currentPhotos.length} from ${currentDate}`;&#10;  photoCaption.textContent = new Date(currentDate + 'T00:00:00').toLocaleDateString(undefined, {&#10;    weekday: 'long',&#10;    year: 'numeric',&#10;    month: 'short',&#10;    day: 'numeric'&#10;  });&#10;  photoPager.textContent = `${currentIndex + 1} / ${currentPhotos.length}`;&#10;}&#10;&#10;/**&#10; * Navigate to next photo in gallery&#10; */&#10;function nextPhoto() {&#10;  if (!currentPhotos.length) {&#10;    return;&#10;  }&#10;  currentIndex = (currentIndex + 1) % currentPhotos.length;&#10;  showCurrentPhoto();&#10;}&#10;&#10;/**&#10; * Navigate to previous photo in gallery&#10; */&#10;function prevPhoto() {&#10;  if (!currentPhotos.length) {&#10;    return;&#10;  }&#10;  currentIndex = (currentIndex - 1 + currentPhotos.length) % currentPhotos.length;&#10;  showCurrentPhoto();&#10;}&#10;&#10;// ---------- Event Listeners ----------&#10;// Event delegation for photo thumbnails&#10;document.addEventListener('click', (e) =&gt; {&#10;  const img = e.target.closest('img.photo-thumb');&#10;  if (img) {&#10;    const date = img.dataset.date;&#10;    const idx = Number(img.dataset.index) || 0;&#10;    openGalleryFor(date, idx);&#10;  }&#10;});&#10;&#10;// Modal controls&#10;photoPrev?.addEventListener('click', prevPhoto);&#10;photoNext?.addEventListener('click', nextPhoto);&#10;photoCloseBtn?.addEventListener('click', closeGallery);&#10;photoModal?.addEventListener('click', (e) =&gt; {&#10;  if (e.target === photoModal) {&#10;    closeGallery();&#10;  }&#10;});&#10;&#10;// Keyboard navigation for photo modal&#10;window.addEventListener('keydown', (e) =&gt; {&#10;  if (!photoModal.classList.contains('open')) {&#10;    return;&#10;  }&#10;  if (e.key === 'Escape') {&#10;    closeGallery();&#10;  }&#10;  if (e.key === 'ArrowRight') {&#10;    nextPhoto();&#10;  }&#10;  if (e.key === 'ArrowLeft') {&#10;    prevPhoto();&#10;  }&#10;});&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/styles.css">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/styles.css" />
              <option name="originalContent" value="/* ========================================&#10;   CSS Variables - Color Scheme &amp; Effects&#10;   ======================================== */&#10;:root {&#10;  /* Background colors */&#10;  --bg: #0b1020;  /* deep space */&#10;  --panel: #0f1530ee;  /* glass panel */&#10;  &#10;  /* Text colors */&#10;  --text: #ebefff;&#10;  --muted: #9bb0ffcc;&#10;  &#10;  /* Accent colors */&#10;  --accent: #8b5cf6;  /* violet */&#10;  --accent-2: #22d3ee;  /* cyan */&#10;  --accent-3: #f43f5e;  /* rose */&#10;  --gold: #f5c542;&#10;  &#10;  /* Status colors */&#10;  --ok: #10b981;&#10;  --bad: #ef4444;&#10;  &#10;  /* Effects */&#10;  --shadow: 0 20px 60px rgba(0, 0, 0, .35), inset 0 1px 0 rgba(255, 255, 255, .05);&#10;  --glass: linear-gradient(180deg, rgba(255, 255, 255, .08), rgba(255, 255, 255, .02));&#10;  --neon: 0 0 12px rgba(139, 92, 246, .65), 0 0 32px rgba(34, 211, 238, .35);&#10;}&#10;&#10;/* ========================================&#10;   Global Resets &amp; Base Styles&#10;   ======================================== */&#10;* {&#10;  box-sizing: border-box;&#10;}&#10;&#10;html,&#10;body {&#10;  min-height: 100%;&#10;}&#10;&#10;/* ========================================&#10;   Body &amp; Background Styling&#10;   ======================================== */&#10;body {&#10;  margin: 0;&#10;  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, &quot;Helvetica Neue&quot;, Arial, &quot;Noto Sans&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;;&#10;  color: var(--text);&#10;  /* Scalable ellipse gradients for smooth background on all page heights */&#10;  background-color: var(--bg);&#10;  background-image:&#10;    radial-gradient(ellipse at 10% 10%, #111a3a 0%, rgba(17,26,58,0) 60%),&#10;    radial-gradient(ellipse at 90% 10%, #221144 0%, rgba(34,17,68,0) 60%),&#10;    radial-gradient(ellipse at 50% 100%, #0a1a2a 0%, rgba(10,26,42,0) 70%);&#10;  background-repeat: no-repeat;&#10;  background-attachment: fixed;&#10;  background-size: cover;&#10;  overflow-x: hidden;&#10;}&#10;&#10;/* Animated gradient veil overlay */&#10;.veil {&#10;  position: fixed;&#10;  inset: -100vmax;&#10;  background: conic-gradient(from 90deg at 50% 50%, rgba(34, 211, 238, .08), rgba(139, 92, 246, .12), rgba(244, 63, 94, .08), rgba(34, 211, 238, .12));&#10;  filter: blur(80px);&#10;  animation: spin 60s linear infinite;&#10;  opacity: .6;&#10;  pointer-events: none;&#10;}&#10;&#10;@keyframes spin {&#10;  to {&#10;    transform: rotate(360deg);&#10;  }&#10;}&#10;&#10;/* ========================================&#10;   Header &amp; Navigation&#10;   ======================================== */&#10;header {&#10;  position: sticky;&#10;  top: 0;&#10;  z-index: 20;&#10;  backdrop-filter: blur(10px);&#10;  background: linear-gradient(180deg, rgba(15, 21, 48, .9), rgba(15, 21, 48, .6));&#10;  border-bottom: 1px solid rgba(255, 255, 255, .07);&#10;}&#10;&#10;.wrap {&#10;  max-width: 1100px;&#10;  margin: 0 auto;&#10;  padding: 18px 20px;&#10;}&#10;&#10;.brand {&#10;  display: flex;&#10;  align-items: center;&#10;  gap: 14px;&#10;}&#10;&#10;.logo {&#10;  width: 42px;&#10;  height: 42px;&#10;  border-radius: 12px;&#10;  background: radial-gradient(circle at 30% 30%, var(--accent-2), transparent 60%), radial-gradient(circle at 70% 70%, var(--accent), transparent 60%), linear-gradient(135deg, rgba(255, 255, 255, .18), rgba(255, 255, 255, 0));&#10;  box-shadow: var(--neon);&#10;  position: relative;&#10;}&#10;&#10;.logo:after {&#10;  content: '';&#10;  position: absolute;&#10;  inset: 3px;&#10;  border-radius: 9px;&#10;  border: 1px solid rgba(255, 255, 255, .25);&#10;}&#10;&#10;h1.title {&#10;  font-family: Orbitron, Inter, sans-serif;&#10;  letter-spacing: .6px;&#10;  font-size: clamp(20px, 2.7vw, 34px);&#10;  margin: 0;&#10;}&#10;&#10;.subtitle {&#10;  color: var(--muted);&#10;  font-size: 14px;&#10;}&#10;&#10;/* ========================================&#10;   Panels &amp; Cards&#10;   ======================================== */&#10;.grid {&#10;  display: grid;&#10;  grid-template-columns: 1.1fr .9fr;&#10;  gap: 22px;&#10;  margin: 20px auto;&#10;}&#10;&#10;@media (max-width: 900px) {&#10;  .grid {&#10;    grid-template-columns: 1fr;&#10;  }&#10;}&#10;&#10;.panel {&#10;  background: var(--panel);&#10;  background-image: var(--glass);&#10;  border: 1px solid rgba(255, 255, 255, .06);&#10;  border-radius: 18px;&#10;  box-shadow: var(--shadow);&#10;  overflow: hidden;&#10;}&#10;&#10;.panel .head {&#10;  display: flex;&#10;  align-items: center;&#10;  justify-content: space-between;&#10;  padding: 16px 18px;&#10;  border-bottom: 1px solid rgba(255, 255, 255, .06);&#10;}&#10;&#10;.panel .head h2 {&#10;  margin: 0;&#10;  font-size: 18px;&#10;}&#10;&#10;.panel .body {&#10;  padding: 18px;&#10;}&#10;&#10;/* ========================================&#10;   Buttons &amp; Controls&#10;   ======================================== */&#10;.btn {&#10;  appearance: none;&#10;  border: 0;&#10;  border-radius: 12px;&#10;  padding: 10px 14px;&#10;  font-weight: 600;&#10;  color: #07111f;&#10;  background: linear-gradient(180deg, #fff, #cfe8ff);&#10;  box-shadow: 0 8px 24px rgba(34, 211, 238, .25);&#10;  cursor: pointer;&#10;}&#10;&#10;.btn:hover {&#10;  filter: brightness(1.05);&#10;}&#10;&#10;.btn.secondary {&#10;  color: var(--text);&#10;  background: linear-gradient(180deg, #1a244a, #141a36);&#10;  border: 1px solid rgba(255, 255, 255, .1);&#10;}&#10;&#10;.btn.ghost {&#10;  background: transparent;&#10;  color: var(--muted);&#10;  border: 1px dashed rgba(255, 255, 255, .2);&#10;}&#10;&#10;.btn.danger {&#10;  background: linear-gradient(180deg, #fdd, #fca5a5);&#10;  color: #3b0d0d;&#10;}&#10;&#10;.controls {&#10;  display: flex;&#10;  flex-wrap: wrap;&#10;  gap: 10px;&#10;  align-items: center;&#10;}&#10;&#10;select,&#10;input[type=&quot;date&quot;],&#10;input[type=&quot;number&quot;],&#10;input[type=&quot;text&quot;],&#10;textarea {&#10;  background: #0c1330;&#10;  color: var(--text);&#10;  border-radius: 10px;&#10;  border: 1px solid rgba(255, 255, 255, .15);&#10;  padding: 10px 12px;&#10;  outline: none;&#10;  box-shadow: inset 0 1px 0 rgba(255, 255, 255, .06);&#10;}&#10;&#10;select {&#10;  cursor: pointer;&#10;}&#10;&#10;/* ========================================&#10;   Tables &amp; Leaderboard&#10;   ======================================== */&#10;table {&#10;  width: 100%;&#10;  border-collapse: collapse;&#10;}&#10;&#10;thead th {&#10;  font-size: 12px;&#10;  text-transform: uppercase;&#10;  letter-spacing: .08em;&#10;  color: var(--muted);&#10;  text-align: left;&#10;  border-bottom: 1px solid rgba(255, 255, 255, .1);&#10;  padding: 8px 8px;&#10;}&#10;&#10;tbody td {&#10;  padding: 10px 8px;&#10;  border-bottom: 1px dashed rgba(255, 255, 255, .07);&#10;}&#10;&#10;tbody tr:hover {&#10;  background: rgba(255, 255, 255, .03);&#10;}&#10;&#10;.rank {&#10;  width: 42px;&#10;  text-align: center;&#10;  font-weight: 800;&#10;}&#10;&#10;.medal {&#10;  filter: drop-shadow(0 0 10px rgba(245, 197, 66, .6));&#10;}&#10;&#10;/* ========================================&#10;   Quiz History Cards&#10;   ======================================== */&#10;.quiz-card {&#10;  display: grid;&#10;  grid-template-columns: 1fr auto;&#10;  gap: 10px;&#10;  align-items: center;&#10;  padding: 14px;&#10;  margin: 12px 0;&#10;  border: 1px solid rgba(255, 255, 255, .07);&#10;  border-radius: 14px;&#10;  background: rgba(10, 20, 40, .6);&#10;}&#10;&#10;.quiz-title {&#10;  font-weight: 700;&#10;}&#10;&#10;.quiz-meta {&#10;  color: var(--muted);&#10;}&#10;&#10;details summary {&#10;  cursor: pointer;&#10;  list-style: none;&#10;}&#10;&#10;details summary::-webkit-details-marker {&#10;  display: none;&#10;}&#10;&#10;/* When quiz card is opened, stack content vertically */&#10;details.quiz-card[open] {&#10;  grid-template-columns: 1fr;&#10;}&#10;&#10;details.quiz-card &gt; summary {&#10;  display: block;&#10;  width: 100%;&#10;}&#10;&#10;details.quiz-card &gt; summary &gt; div {&#10;  display: flex;&#10;  flex-direction: column;&#10;  gap: 6px;&#10;}&#10;&#10;/* ========================================&#10;   Footer &amp; Toast Notifications&#10;   ======================================== */&#10;footer {&#10;  opacity: .8;&#10;  color: var(--muted);&#10;  font-size: 13px;&#10;  text-align: center;&#10;  padding: 20px 10px;&#10;}&#10;&#10;.toast {&#10;  position: fixed;&#10;  right: 16px;&#10;  bottom: 16px;&#10;  padding: 12px 14px;&#10;  border-radius: 12px;&#10;  background: #07111f;&#10;  color: var(--text);&#10;  border: 1px solid rgba(255, 255, 255, .1);&#10;  box-shadow: var(--shadow);&#10;  opacity: 0;&#10;  transform: translateY(12px);&#10;  transition: all .25s ease;&#10;  z-index: 50;&#10;}&#10;&#10;.toast.show {&#10;  opacity: 1;&#10;  transform: translateY(0);&#10;}&#10;&#10;/* ========================================&#10;   Modal Dialogs&#10;   ======================================== */&#10;.modal {&#10;  position: fixed;&#10;  inset: 0;&#10;  background: rgba(5, 8, 16, .65);&#10;  backdrop-filter: blur(8px);&#10;  display: none;&#10;  align-items: center;&#10;  justify-content: center;&#10;  padding: 20px;&#10;  z-index: 40;&#10;}&#10;&#10;.modal.open {&#10;  display: flex;&#10;}&#10;&#10;.modal-card {&#10;  width: min(860px, 96vw);&#10;  background: var(--panel);&#10;  background-image: var(--glass);&#10;  border: 1px solid rgba(255, 255, 255, .07);&#10;  border-radius: 18px;&#10;  box-shadow: var(--shadow);&#10;}&#10;&#10;.modal-card .head {&#10;  display: flex;&#10;  align-items: center;&#10;  justify-content: space-between;&#10;  padding: 16px 18px;&#10;  border-bottom: 1px solid rgba(255, 255, 255, .06);&#10;}&#10;&#10;.modal-card .body {&#10;  padding: 18px;&#10;}&#10;&#10;/* ========================================&#10;   Layout Utilities&#10;   ======================================== */&#10;.two-col {&#10;  display: grid;&#10;  grid-template-columns: 1fr 1fr;&#10;  gap: 16px;&#10;}&#10;&#10;@media (max-width: 800px) {&#10;  .two-col {&#10;    grid-template-columns: 1fr;&#10;  }&#10;}&#10;&#10;/* Neon glow effect for headlines */&#10;.glow {&#10;  color: #fff;&#10;  text-shadow: 0 0 8px rgba(139, 92, 246, .8), 0 0 22px rgba(34, 211, 238, .6);&#10;}&#10;&#10;/* Confetti canvas overlay */&#10;#fx {&#10;  position: fixed;&#10;  inset: 0;&#10;  pointer-events: none;&#10;  z-index: 60;&#10;}&#10;&#10;/* ========================================&#10;   Photo Gallery &amp; Lightbox&#10;   ======================================== */&#10;.photo-grid {&#10;  display: grid;&#10;  grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));&#10;  gap: 8px;&#10;  margin-top: 10px;&#10;}&#10;&#10;.photo-thumb {&#10;  width: 100%;&#10;  aspect-ratio: 4/3;&#10;  object-fit: cover;&#10;  border-radius: 10px;&#10;  border: 1px solid rgba(255, 255, 255, .1);&#10;  cursor: pointer;&#10;  transition: transform .15s ease, filter .15s ease;&#10;  background: #0c1330;&#10;}&#10;&#10;.photo-thumb:hover {&#10;  transform: translateY(-2px);&#10;  filter: brightness(1.05);&#10;}&#10;&#10;.photo-empty {&#10;  color: var(--muted);&#10;  font-size: 13px;&#10;  margin-top: 8px;&#10;}&#10;&#10;.photo-viewer {&#10;  position: relative;&#10;  display: grid;&#10;  place-items: center;&#10;}&#10;&#10;.photo-viewer img {&#10;  width: 100%;&#10;  max-height: 70vh;&#10;  object-fit: contain;&#10;  border-radius: 12px;&#10;  background: #050814;&#10;}&#10;&#10;.photo-nav {&#10;  position: absolute;&#10;  top: 50%;&#10;  transform: translateY(-50%);&#10;  background: rgba(7, 17, 31, .7);&#10;  border: 1px solid rgba(255,255,255,.1);&#10;  color: var(--text);&#10;  width: 42px;&#10;  height: 42px;&#10;  display: grid;&#10;  place-items: center;&#10;  border-radius: 50%;&#10;  cursor: pointer;&#10;  box-shadow: var(--shadow);&#10;  user-select: none;&#10;}&#10;&#10;.photo-nav:hover {&#10;  filter: brightness(1.07);&#10;}&#10;&#10;.photo-nav.prev {&#10;  left: 10px;&#10;}&#10;&#10;.photo-nav.next {&#10;  right: 10px;&#10;}&#10;&#10;.photo-caption {&#10;  margin-top: 8px;&#10;  display: flex;&#10;  justify-content: space-between;&#10;  align-items: center;&#10;  gap: 12px;&#10;}&#10;&#10;/* ========================================&#10;   Quick Access Links&#10;   ======================================== */&#10;.quick-access-list {&#10;  list-style: none;&#10;  padding: 0;&#10;  margin: 0;&#10;  display: flex;&#10;  flex-direction: column;&#10;  gap: 8px;&#10;}&#10;&#10;.quick-access-item {&#10;  display: flex;&#10;  align-items: center;&#10;  gap: 10px;&#10;  padding: 10px 12px;&#10;  border: 1px solid rgba(255, 255, 255, .07);&#10;  border-radius: 10px;&#10;  background: rgba(10, 20, 40, .6);&#10;  cursor: pointer;&#10;  transition: all .15s ease;&#10;  text-decoration: none;&#10;  color: var(--text);&#10;}&#10;&#10;.quick-access-item:hover {&#10;  background: rgba(20, 30, 50, .8);&#10;  border-color: rgba(255, 255, 255, .12);&#10;  transform: translateX(2px);&#10;}&#10;&#10;.quick-access-icon {&#10;  width: 36px;&#10;  height: 36px;&#10;  border-radius: 8px;&#10;  object-fit: cover;&#10;  flex-shrink: 0;&#10;  border: 1px solid rgba(255, 255, 255, .1);&#10;  background: #0c1330;&#10;}&#10;&#10;.quick-access-link-icon {&#10;  width: 36px;&#10;  height: 36px;&#10;  border-radius: 8px;&#10;  flex-shrink: 0;&#10;  display: grid;&#10;  place-items: center;&#10;  background: linear-gradient(135deg, rgba(139, 92, 246, .2), rgba(34, 211, 238, .2));&#10;  border: 1px solid rgba(255, 255, 255, .1);&#10;  font-size: 18px;&#10;}&#10;&#10;.quick-access-name {&#10;  flex: 1;&#10;  font-weight: 500;&#10;}&#10;&#10;.quick-access-empty {&#10;  color: var(--muted);&#10;  font-size: 14px;&#10;  padding: 12px 0;&#10;}&#10;&#10;/* ========================================&#10;   Team Presence Visualization&#10;   ======================================== */&#10;.presence-bars {&#10;  display: flex;&#10;  flex-direction: column;&#10;  gap: 14px;&#10;}&#10;&#10;.presence-bar-item {&#10;  display: grid;&#10;  grid-template-columns: 120px 1fr;&#10;  gap: 12px;&#10;  align-items: center;&#10;}&#10;&#10;.presence-name {&#10;  font-weight: 600;&#10;  color: var(--text);&#10;  text-align: right;&#10;  font-size: 14px;&#10;}&#10;&#10;.presence-bar-container {&#10;  position: relative;&#10;  height: 32px;&#10;  background: rgba(10, 20, 40, .6);&#10;  border-radius: 8px;&#10;  border: 1px solid rgba(255, 255, 255, .07);&#10;  overflow: hidden;&#10;}&#10;&#10;.presence-bar {&#10;  height: 100%;&#10;  background: linear-gradient(90deg, var(--accent), var(--accent-2));&#10;  border-radius: 8px;&#10;  display: flex;&#10;  align-items: center;&#10;  justify-content: flex-end;&#10;  padding-right: 10px;&#10;  min-width: 40px;&#10;  transition: width 0.3s ease;&#10;  box-shadow: 0 0 12px rgba(139, 92, 246, .4);&#10;}&#10;&#10;.presence-count {&#10;  font-weight: 700;&#10;  font-size: 14px;&#10;  color: #fff;&#10;  text-shadow: 0 1px 3px rgba(0, 0, 0, .5);&#10;}&#10;&#10;@media (max-width: 600px) {&#10;  .presence-bar-item {&#10;    grid-template-columns: 100px 1fr;&#10;    gap: 8px;&#10;  }&#10;  &#10;  .presence-name {&#10;    font-size: 13px;&#10;  }&#10;}&#10;" />
              <option name="updatedContent" value="/* ========================================&#10;   CSS Variables - Color Scheme &amp; Effects&#10;   ======================================== */&#10;:root {&#10;  /* Background colors */&#10;  --bg: #0b1020;  /* deep space */&#10;  --panel: #0f1530ee;  /* glass panel */&#10;  &#10;  /* Text colors */&#10;  --text: #ebefff;&#10;  --muted: #9bb0ffcc;&#10;  &#10;  /* Accent colors */&#10;  --accent: #8b5cf6;  /* violet */&#10;  --accent-2: #22d3ee;  /* cyan */&#10;  --accent-3: #f43f5e;  /* rose */&#10;  --gold: #f5c542;&#10;  &#10;  /* Status colors */&#10;  --ok: #10b981;&#10;  --bad: #ef4444;&#10;  &#10;  /* Effects */&#10;  --shadow: 0 20px 60px rgba(0, 0, 0, .35), inset 0 1px 0 rgba(255, 255, 255, .05);&#10;  --glass: linear-gradient(180deg, rgba(255, 255, 255, .08), rgba(255, 255, 255, .02));&#10;  --neon: 0 0 12px rgba(139, 92, 246, .65), 0 0 32px rgba(34, 211, 238, .35);&#10;}&#10;&#10;/* ========================================&#10;   Global Resets &amp; Base Styles&#10;   ======================================== */&#10;* {&#10;  box-sizing: border-box;&#10;}&#10;&#10;html,&#10;body {&#10;  min-height: 100%;&#10;}&#10;&#10;/* ========================================&#10;   Body &amp; Background Styling&#10;   ======================================== */&#10;body {&#10;  margin: 0;&#10;  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, &quot;Helvetica Neue&quot;, Arial, &quot;Noto Sans&quot;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;;&#10;  color: var(--text);&#10;  /* Scalable ellipse gradients for smooth background on all page heights */&#10;  background-color: var(--bg);&#10;  background-image:&#10;    radial-gradient(ellipse at 10% 10%, #111a3a 0%, rgba(17,26,58,0) 60%),&#10;    radial-gradient(ellipse at 90% 10%, #221144 0%, rgba(34,17,68,0) 60%),&#10;    radial-gradient(ellipse at 50% 100%, #0a1a2a 0%, rgba(10,26,42,0) 70%);&#10;  background-repeat: no-repeat;&#10;  background-attachment: fixed;&#10;  background-size: cover;&#10;  overflow-x: hidden;&#10;}&#10;&#10;/* Animated gradient veil overlay */&#10;.veil {&#10;  position: fixed;&#10;  inset: -100vmax;&#10;  background: conic-gradient(from 90deg at 50% 50%, rgba(34, 211, 238, .08), rgba(139, 92, 246, .12), rgba(244, 63, 94, .08), rgba(34, 211, 238, .12));&#10;  filter: blur(80px);&#10;  animation: spin 60s linear infinite;&#10;  opacity: .6;&#10;  pointer-events: none;&#10;}&#10;&#10;@keyframes spin {&#10;  to {&#10;    transform: rotate(360deg);&#10;  }&#10;}&#10;&#10;/* ========================================&#10;   Header &amp; Navigation&#10;   ======================================== */&#10;header {&#10;  position: sticky;&#10;  top: 0;&#10;  z-index: 20;&#10;  backdrop-filter: blur(10px);&#10;  background: linear-gradient(180deg, rgba(15, 21, 48, .9), rgba(15, 21, 48, .6));&#10;  border-bottom: 1px solid rgba(255, 255, 255, .07);&#10;}&#10;&#10;.wrap {&#10;  max-width: 1100px;&#10;  margin: 0 auto;&#10;  padding: 18px 20px;&#10;}&#10;&#10;.brand {&#10;  display: flex;&#10;  align-items: center;&#10;  gap: 14px;&#10;}&#10;&#10;.logo {&#10;  width: 42px;&#10;  height: 42px;&#10;  border-radius: 12px;&#10;  background: radial-gradient(circle at 30% 30%, var(--accent-2), transparent 60%), radial-gradient(circle at 70% 70%, var(--accent), transparent 60%), linear-gradient(135deg, rgba(255, 255, 255, .18), rgba(255, 255, 255, 0));&#10;  box-shadow: var(--neon);&#10;  position: relative;&#10;}&#10;&#10;.logo:after {&#10;  content: '';&#10;  position: absolute;&#10;  inset: 3px;&#10;  border-radius: 9px;&#10;  border: 1px solid rgba(255, 255, 255, .25);&#10;}&#10;&#10;h1.title {&#10;  font-family: Orbitron, Inter, sans-serif;&#10;  letter-spacing: .6px;&#10;  font-size: clamp(20px, 2.7vw, 34px);&#10;  margin: 0;&#10;}&#10;&#10;.subtitle {&#10;  color: var(--muted);&#10;  font-size: 14px;&#10;}&#10;&#10;/* ========================================&#10;   Panels &amp; Cards&#10;   ======================================== */&#10;.grid {&#10;  display: grid;&#10;  grid-template-columns: 1.1fr .9fr;&#10;  gap: 22px;&#10;  margin: 20px auto;&#10;}&#10;&#10;@media (max-width: 900px) {&#10;  .grid {&#10;    grid-template-columns: 1fr;&#10;  }&#10;}&#10;&#10;.panel {&#10;  background: var(--panel);&#10;  background-image: var(--glass);&#10;  border: 1px solid rgba(255, 255, 255, .06);&#10;  border-radius: 18px;&#10;  box-shadow: var(--shadow);&#10;  overflow: hidden;&#10;}&#10;&#10;.panel .head {&#10;  display: flex;&#10;  align-items: center;&#10;  justify-content: space-between;&#10;  padding: 16px 18px;&#10;  border-bottom: 1px solid rgba(255, 255, 255, .06);&#10;}&#10;&#10;.panel .head h2 {&#10;  margin: 0;&#10;  font-size: 18px;&#10;}&#10;&#10;.panel .body {&#10;  padding: 18px;&#10;}&#10;&#10;/* ========================================&#10;   Buttons &amp; Controls&#10;   ======================================== */&#10;.btn {&#10;  appearance: none;&#10;  border: 0;&#10;  border-radius: 12px;&#10;  padding: 10px 14px;&#10;  font-weight: 600;&#10;  color: #07111f;&#10;  background: linear-gradient(180deg, #fff, #cfe8ff);&#10;  box-shadow: 0 8px 24px rgba(34, 211, 238, .25);&#10;  cursor: pointer;&#10;}&#10;&#10;.btn:hover {&#10;  filter: brightness(1.05);&#10;}&#10;&#10;.btn.secondary {&#10;  color: var(--text);&#10;  background: linear-gradient(180deg, #1a244a, #141a36);&#10;  border: 1px solid rgba(255, 255, 255, .1);&#10;}&#10;&#10;.btn.ghost {&#10;  background: transparent;&#10;  color: var(--muted);&#10;  border: 1px dashed rgba(255, 255, 255, .2);&#10;}&#10;&#10;.btn.danger {&#10;  background: linear-gradient(180deg, #fdd, #fca5a5);&#10;  color: #3b0d0d;&#10;}&#10;&#10;.controls {&#10;  display: flex;&#10;  flex-wrap: wrap;&#10;  gap: 10px;&#10;  align-items: center;&#10;}&#10;&#10;select,&#10;input[type=&quot;date&quot;],&#10;input[type=&quot;number&quot;],&#10;input[type=&quot;text&quot;],&#10;textarea {&#10;  background: #0c1330;&#10;  color: var(--text);&#10;  border-radius: 10px;&#10;  border: 1px solid rgba(255, 255, 255, .15);&#10;  padding: 10px 12px;&#10;  outline: none;&#10;  box-shadow: inset 0 1px 0 rgba(255, 255, 255, .06);&#10;}&#10;&#10;select {&#10;  cursor: pointer;&#10;}&#10;&#10;/* ========================================&#10;   Tables &amp; Leaderboard&#10;   ======================================== */&#10;table {&#10;  width: 100%;&#10;  border-collapse: collapse;&#10;}&#10;&#10;thead th {&#10;  font-size: 12px;&#10;  text-transform: uppercase;&#10;  letter-spacing: .08em;&#10;  color: var(--muted);&#10;  text-align: left;&#10;  border-bottom: 1px solid rgba(255, 255, 255, .1);&#10;  padding: 8px 8px;&#10;}&#10;&#10;tbody td {&#10;  padding: 10px 8px;&#10;  border-bottom: 1px dashed rgba(255, 255, 255, .07);&#10;}&#10;&#10;tbody tr:hover {&#10;  background: rgba(255, 255, 255, .03);&#10;}&#10;&#10;.rank {&#10;  width: 42px;&#10;  text-align: center;&#10;  font-weight: 800;&#10;}&#10;&#10;.medal {&#10;  filter: drop-shadow(0 0 10px rgba(245, 197, 66, .6));&#10;}&#10;&#10;/* ========================================&#10;   Quiz History Cards&#10;   ======================================== */&#10;.quiz-card {&#10;  display: grid;&#10;  grid-template-columns: 1fr auto;&#10;  gap: 10px;&#10;  align-items: center;&#10;  padding: 14px;&#10;  margin: 12px 0;&#10;  border: 1px solid rgba(255, 255, 255, .07);&#10;  border-radius: 14px;&#10;  background: rgba(10, 20, 40, .6);&#10;}&#10;&#10;.quiz-title {&#10;  font-weight: 700;&#10;}&#10;&#10;.quiz-meta {&#10;  color: var(--muted);&#10;}&#10;&#10;details summary {&#10;  cursor: pointer;&#10;  list-style: none;&#10;}&#10;&#10;details summary::-webkit-details-marker {&#10;  display: none;&#10;}&#10;&#10;/* When quiz card is opened, stack content vertically */&#10;details.quiz-card[open] {&#10;  grid-template-columns: 1fr;&#10;}&#10;&#10;details.quiz-card &gt; summary {&#10;  display: block;&#10;  width: 100%;&#10;}&#10;&#10;details.quiz-card &gt; summary &gt; div {&#10;  display: flex;&#10;  flex-direction: column;&#10;  gap: 6px;&#10;}&#10;&#10;/* ========================================&#10;   Footer &amp; Toast Notifications&#10;   ======================================== */&#10;footer {&#10;  opacity: .8;&#10;  color: var(--muted);&#10;  font-size: 13px;&#10;  text-align: center;&#10;  padding: 20px 10px;&#10;}&#10;&#10;.toast {&#10;  position: fixed;&#10;  right: 16px;&#10;  bottom: 16px;&#10;  padding: 12px 14px;&#10;  border-radius: 12px;&#10;  background: #07111f;&#10;  color: var(--text);&#10;  border: 1px solid rgba(255, 255, 255, .1);&#10;  box-shadow: var(--shadow);&#10;  opacity: 0;&#10;  transform: translateY(12px);&#10;  transition: all .25s ease;&#10;  z-index: 50;&#10;}&#10;&#10;.toast.show {&#10;  opacity: 1;&#10;  transform: translateY(0);&#10;}&#10;&#10;/* ========================================&#10;   Modal Dialogs&#10;   ======================================== */&#10;.modal {&#10;  position: fixed;&#10;  inset: 0;&#10;  background: rgba(5, 8, 16, .65);&#10;  backdrop-filter: blur(8px);&#10;  display: none;&#10;  align-items: center;&#10;  justify-content: center;&#10;  padding: 20px;&#10;  z-index: 40;&#10;}&#10;&#10;.modal.open {&#10;  display: flex;&#10;}&#10;&#10;.modal-card {&#10;  width: min(860px, 96vw);&#10;  background: var(--panel);&#10;  background-image: var(--glass);&#10;  border: 1px solid rgba(255, 255, 255, .07);&#10;  border-radius: 18px;&#10;  box-shadow: var(--shadow);&#10;}&#10;&#10;.modal-card .head {&#10;  display: flex;&#10;  align-items: center;&#10;  justify-content: space-between;&#10;  padding: 16px 18px;&#10;  border-bottom: 1px solid rgba(255, 255, 255, .06);&#10;}&#10;&#10;.modal-card .body {&#10;  padding: 18px;&#10;}&#10;&#10;/* ========================================&#10;   Layout Utilities&#10;   ======================================== */&#10;.two-col {&#10;  display: grid;&#10;  grid-template-columns: 1fr 1fr;&#10;  gap: 16px;&#10;}&#10;&#10;@media (max-width: 800px) {&#10;  .two-col {&#10;    grid-template-columns: 1fr;&#10;  }&#10;}&#10;&#10;/* Neon glow effect for headlines */&#10;.glow {&#10;  color: #fff;&#10;  text-shadow: 0 0 8px rgba(139, 92, 246, .8), 0 0 22px rgba(34, 211, 238, .6);&#10;}&#10;&#10;/* Confetti canvas overlay */&#10;#fx {&#10;  position: fixed;&#10;  inset: 0;&#10;  pointer-events: none;&#10;  z-index: 60;&#10;}&#10;&#10;/* ========================================&#10;   Photo Gallery &amp; Lightbox&#10;   ======================================== */&#10;.photo-grid {&#10;  display: grid;&#10;  grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));&#10;  gap: 8px;&#10;  margin-top: 10px;&#10;}&#10;&#10;.photo-thumb {&#10;  width: 100%;&#10;  aspect-ratio: 4/3;&#10;  object-fit: cover;&#10;  border-radius: 10px;&#10;  border: 1px solid rgba(255, 255, 255, .1);&#10;  cursor: pointer;&#10;  transition: transform .15s ease, filter .15s ease;&#10;  background: #0c1330;&#10;}&#10;&#10;.photo-thumb:hover {&#10;  transform: translateY(-2px);&#10;  filter: brightness(1.05);&#10;}&#10;&#10;.photo-empty {&#10;  color: var(--muted);&#10;  font-size: 13px;&#10;  margin-top: 8px;&#10;}&#10;&#10;.photo-viewer {&#10;  position: relative;&#10;  display: grid;&#10;  place-items: center;&#10;}&#10;&#10;.photo-viewer img {&#10;  width: 100%;&#10;  max-height: 70vh;&#10;  object-fit: contain;&#10;  border-radius: 12px;&#10;  background: #050814;&#10;}&#10;&#10;.photo-nav {&#10;  position: absolute;&#10;  top: 50%;&#10;  transform: translateY(-50%);&#10;  background: rgba(7, 17, 31, .7);&#10;  border: 1px solid rgba(255,255,255,.1);&#10;  color: var(--text);&#10;  width: 42px;&#10;  height: 42px;&#10;  display: grid;&#10;  place-items: center;&#10;  border-radius: 50%;&#10;  cursor: pointer;&#10;  box-shadow: var(--shadow);&#10;  user-select: none;&#10;}&#10;&#10;.photo-nav:hover {&#10;  filter: brightness(1.07);&#10;}&#10;&#10;.photo-nav.prev {&#10;  left: 10px;&#10;}&#10;&#10;.photo-nav.next {&#10;  right: 10px;&#10;}&#10;&#10;.photo-caption {&#10;  margin-top: 8px;&#10;  display: flex;&#10;  justify-content: space-between;&#10;  align-items: center;&#10;  gap: 12px;&#10;}&#10;&#10;/* ========================================&#10;   Quick Access Links&#10;   ======================================== */&#10;.quick-access-list {&#10;  list-style: none;&#10;  padding: 0;&#10;  margin: 0;&#10;  display: flex;&#10;  flex-direction: column;&#10;  gap: 8px;&#10;}&#10;&#10;.quick-access-item {&#10;  display: flex;&#10;  align-items: center;&#10;  gap: 10px;&#10;  padding: 10px 12px;&#10;  border: 1px solid rgba(255, 255, 255, .07);&#10;  border-radius: 10px;&#10;  background: rgba(10, 20, 40, .6);&#10;  cursor: pointer;&#10;  transition: all .15s ease;&#10;  text-decoration: none;&#10;  color: var(--text);&#10;}&#10;&#10;.quick-access-item:hover {&#10;  background: rgba(20, 30, 50, .8);&#10;  border-color: rgba(255, 255, 255, .12);&#10;  transform: translateX(2px);&#10;}&#10;&#10;.quick-access-icon {&#10;  width: 36px;&#10;  height: 36px;&#10;  border-radius: 8px;&#10;  object-fit: cover;&#10;  flex-shrink: 0;&#10;  border: 1px solid rgba(255, 255, 255, .1);&#10;  background: #0c1330;&#10;}&#10;&#10;.quick-access-link-icon {&#10;  width: 36px;&#10;  height: 36px;&#10;  border-radius: 8px;&#10;  flex-shrink: 0;&#10;  display: grid;&#10;  place-items: center;&#10;  background: linear-gradient(135deg, rgba(139, 92, 246, .2), rgba(34, 211, 238, .2));&#10;  border: 1px solid rgba(255, 255, 255, .1);&#10;  font-size: 18px;&#10;}&#10;&#10;.quick-access-name {&#10;  flex: 1;&#10;  font-weight: 500;&#10;}&#10;&#10;.quick-access-empty {&#10;  color: var(--muted);&#10;  font-size: 14px;&#10;  padding: 12px 0;&#10;}&#10;&#10;/* ========================================&#10;   Team Presence Visualization&#10;   ======================================== */&#10;.presence-bars {&#10;  display: flex;&#10;  flex-direction: column;&#10;  gap: 14px;&#10;}&#10;&#10;.presence-bar-item {&#10;  display: grid;&#10;  grid-template-columns: 120px 1fr;&#10;  gap: 12px;&#10;  align-items: center;&#10;}&#10;&#10;/* presence-name now acts like an interactive div (clickable and focusable) */&#10;.presence-name {&#10;  font-weight: 600;&#10;  color: var(--text);&#10;  text-align: right;&#10;  font-size: 14px;&#10;  cursor: pointer; /* indicate interactivity */&#10;  user-select: none;&#10;}&#10;&#10;.presence-name:hover {&#10;  color: var(--accent-2);&#10;  text-decoration: underline;&#10;}&#10;&#10;.presence-name:focus {&#10;  outline: 2px solid rgba(139, 92, 246, 0.28);&#10;  outline-offset: 2px;&#10;  border-radius: 6px;&#10;}&#10;&#10;.presence-bar-container {&#10;  position: relative;&#10;  height: 32px;&#10;  background: rgba(10, 20, 40, .6);&#10;  border-radius: 8px;&#10;  border: 1px solid rgba(255, 255, 255, .07);&#10;  overflow: hidden;&#10;}&#10;&#10;.presence-bar {&#10;  height: 100%;&#10;  background: linear-gradient(90deg, var(--accent), var(--accent-2));&#10;  border-radius: 8px;&#10;  display: flex;&#10;  align-items: center;&#10;  justify-content: flex-end;&#10;  padding-right: 10px;&#10;  min-width: 40px;&#10;  transition: width 0.3s ease;&#10;  box-shadow: 0 0 12px rgba(139, 92, 246, .4);&#10;}&#10;&#10;.presence-count {&#10;  font-weight: 700;&#10;  font-size: 14px;&#10;  color: #fff;&#10;  text-shadow: 0 1px 3px rgba(0, 0, 0, .5);&#10;}&#10;&#10;@media (max-width: 600px) {&#10;  .presence-bar-item {&#10;    grid-template-columns: 100px 1fr;&#10;    gap: 8px;&#10;  }&#10;  &#10;  .presence-name {&#10;    font-size: 13px;&#10;  }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>